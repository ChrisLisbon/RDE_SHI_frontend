(this.webpackJsonprde_frontend_server=this.webpackJsonprde_frontend_server||[]).push([[0],{328:function(e,t,a){e.exports=a(364)},356:function(e,t,a){},357:function(e,t,a){e.exports=a.p+"static/media/shi_round.af04d055.png"},364:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),l=a(21),o=a(22),c=a(24),s=a(23),u=a(25),m=a(315),d=a(112),p=a(9),f=a.n(p),g=a(17),h=a(16),v=a.n(h),_=a(410),b=a(55),E=a(411),y=a(419),O=a(420),w=a(412),j=a(413),x=(a(280),a(281),a(334),a(122)),D=a(375),C=a(376),S=a(377),k=a(71),N=a.n(k),z=a(139),M=a(395),I="91.151.178.102",T=20003,H="91.151.178.102",L=20002,Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).onRowClick=function(e){var t=e[0],n=a.detEventId(t,a.props.data);console.log(n),a.props.setEventData(n),window.open("http://"+H+":"+L+"/eventid/#"+n,"_blank")},a.getData=function(e){if(null!=e){var t=[];return e.data.events.map((function(e){t.push(e)})),t}return[]},a.detEventId=function(e,t){var a="";return t.data.events.map((function(t){t.name_rus==e&&(a=t.id)})),a},a.getMuiTheme=function(){return Object(z.a)({overrides:{MUIDataTableHeadCell:{root:{color:"#a6a6a6"}}}})},a.state={propsData:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.getData(this.props.data),t="\u0421\u043e\u0431\u044b\u0442\u0438\u044f, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u0432: "+this.props.tableName,a={filterType:"dropdown",download:!1,print:!1,search:!0,responsive:"scrollMaxHeight",selectableRowsHeader:!1,selectableRows:"none",pagination:!1,onRowClick:this.onRowClick,textLabels:{body:{noMatch:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}},fixedHeader:!0};return r.a.createElement(M.a,{theme:this.getMuiTheme()},r.a.createElement(N.a,{title:t,data:e,columns:[{name:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",options:{filter:!1}},{name:"type",label:"\u0422\u0438\u043f",options:{filter:!0}},{name:"reason",label:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430",options:{filter:!0}},{name:"cost_rub",label:"\u0423\u0449\u0435\u0440\u0431 (\u0440\u0443\u0431)",options:{filter:!1}},{name:"area_km",label:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c (\u043a\u043c)",options:{filter:!1}}],options:a}))}}]),t}(n.Component),B=a(67),P=a(401),F=a(146);function R(e){var t=e.open,a=e.tableData,n=e.tableName,i=e.content;return"table"==i?r.a.createElement("div",{className:"zeroWidth"},r.a.createElement(D.a,{open:t,onClose:function(){e.dialogClose(),e.clearEventTableData()},maxWidth:"lg"},r.a.createElement(S.a,null,r.a.createElement(Y,{data:a,tableName:n,setEventData:function(t){return e.setEventData(t)}})),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){e.dialogClose(),e.clearEventTableData()},color:"primary",autoFocus:!0},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))):"waiting"==i?r.a.createElement("div",{className:"zeroWidth"},r.a.createElement(D.a,{open:t,onClose:function(){e.dialogClose(),e.clearEventTableData()},maxWidth:"lg"},r.a.createElement(S.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445...")))):void 0}a(355);var V=a(188);function A(){return(A=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleZoom=function(){var e=String(a.map&&a.map.leafletElement.getZoom());a.props.handleZoom(e)},a.setMiniMap=function(){var e=a.map.leafletElement,t=new h.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&amp;copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'});new h.Control.MiniMap(t,{toggleDisplay:!0}).addTo(e);h.control.mousePosition({prefix:"\u0448., \u0434.:",emptyString:" "}).addTo(e)},a.returnRegionsBorders=function(){if(null!==a.state.regions_borders_data&&1==a.props.regions_borders)return r.a.createElement(_.a,{key:Math.random(),data:a.state.regions_borders_data,style:{fillColor:"red",weight:.5}})},a.getVectorsAsJson=function(){void 0!==a.props.vectorData&&null!==a.props.vectorData&&0==a.state.vectorDataGet&&(console.log(a.props.vectorData),a.props.vectorData.data.misc_vector_data.forEach((function(e){console.log(),2==e.id&&(console.log(e.geojson_for_map),function(e){return A.apply(this,arguments)}(e.geojson_for_map).then((function(e){return a.setState((function(t){return{regions_borders_data:e}}))})))})),a.setState((function(e){return{vectorDataGet:!0}})))},a.state={lat:65,lng:65,zoom:4,dialogOpen:!1,placeEvents:null,placeName:"",dialogContent:"waiting",vectorDataGet:!1,regions_borders_data:null,setMiniMap:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;void 0!==this.map&&0==this.state.setMiniMap&&(this.setMiniMap(),this.setState((function(e){return{setMiniMap:!0}}))),this.getVectorsAsJson();this.state.lat,this.state.lng;var t=this.props.placesData;Object(b.b)((function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){var a=t.current.leafletElement,n=t.current.props.leaflet.map;h.polylineDecorator(a,{patterns:e.patterns}).addTo(n)}),[]),r.a.createElement(E.a,Object.assign({ref:t},e))})),h.Symbol.arrowHead({pixelSize:10,polygon:!0,pathOptions:{stroke:!0,weight:1,color:"black",fill:!0,fillOpacity:1,opacity:1}});return r.a.createElement("div",null,r.a.createElement(y.a,{className:"map",bounds:this.props.bounds,onZoom:this.handleZoom,ref:function(t){e.map=t}},r.a.createElement(O.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.data.places.map((function(t){var a=t.point_geom.toString().slice(6,-1).split(" "),n=t.id,i=t.name_rus,l=h.geoJson(V(t.polygon_geom.toString())).getBounds();return r.a.createElement(w.a,{color:"#6666ff",pane:"markerPane",center:[parseFloat(a[1]),parseFloat(a[0])],onClick:function(){e.props.setSelectedPlace(l,t),e.props.setZoomLvl(),e.props.setListOfEventsForPlace(n,i)}},r.a.createElement(j.a,{direction:"right",offset:[-8,-2],opacity:1},r.a.createElement("span",null,t.name_rus)))})),t.data.places.map((function(t){var a=t.polygon_geom.toString();if(e.props.zoomLvl>8)return r.a.createElement(_.a,{key:Math.random(),data:V(a),fillColor:"#ff9933",fillOpacity:.3,color:"#ff9933",weight:2})})),this.returnRegionsBorders()),r.a.createElement(R,{content:this.props.dialogContent,open:this.props.isDialogOpen,dialogClose:function(){return e.props.dialogClose()},dialogOpen:function(){return e.props.dialogOpen()},tableData:this.props.placeEvents,tableName:this.props.placeName,clearEventTableData:function(){return e.props.clearEventTableData()},setEventData:function(t){return e.props.setEventData(t)}}))}}]),t}(n.Component),W=(a(356),a(77)),J=a(397),Z=a(398),U=a(399),q=Object(W.a)({title:{fontSize:14},box:{color:"#131E16"}});function $(){var e=q();return r.a.createElement(J.a,{className:e.box},r.a.createElement(U.a,null,r.a.createElement(B.a,{variant:"h5",component:"h2",style:{fontSize:"2.5vh"}},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0431\u043b\u043e\u043a"),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440\u0430\u0445"),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435")),r.a.createElement(Z.a,null,r.a.createElement(x.a,{size:"small",href:"#outlined-buttons"},r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"))))}var K=a(151),X=a(4),Q=a(13),ee=a(298),te=a(295),ae=a(212),ne=a.n(ae),re=a(213),ie=a.n(re),le=Object(W.a)((function(e){return{box:{height:"3vh"},margin:{margin:"0 0 0 0",minHeight:0,height:"4.5vh"}}}));function oe(e){var t,a=le(),n=r.a.useState({checkedA:!1,checkedB:!1,checkedC:!1}),i=Object(Q.a)(n,2),l=i[0],o=i[1];return r.a.createElement(J.a,{style:{height:"4.5vh"}},r.a.createElement("div",{className:a.box},r.a.createElement(te.a,{className:a.margin,control:r.a.createElement(ee.a,{checked:e.regionsBordersActive,onChange:(t="checkedA",function(a){o(Object(X.a)({},l,Object(K.a)({},t,a.target.checked)));var n=a.target.checked;e.onRegionsBorders(n)}),value:"checkedB",icon:r.a.createElement(ne.a,{style:{fontSize:"2.5vh",margin:"0"}}),checkedIcon:r.a.createElement(ie.a,{style:{fontSize:"2.5vh",margin:"0"}})}),label:r.a.createElement("span",{style:{fontSize:"1.8vh",margin:"0",height:"1.8vh"}},"\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0433\u0440\u0430\u043d\u0438\u0446\u044b \u0440\u0435\u0433\u0438\u043e\u043d\u043e\u0432")})))}var ce=a(417),se=a(207),ue=a(188),me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).setSelectedPlace=function(e,t){if(null==t){var n=h.latLngBounds([[70,50],[50,70]]);a.props.setSelectedPlace(n,null)}if(null!==t&&void 0!==t){n=h.geoJson(ue(t.polygon_geom.toString())).getBounds();console.log(t),a.props.setSelectedPlace(n,t),a.props.setZoomLvl(),a.props.setListOfEventsForPlace(t.id,t.name_rus)}},a.getMuiTheme=function(){return Object(z.a)({overrides:{MuiInputBase:{root:{fontSize:"1.8vh"}},MuiAutocomplete:{inputRoot:{'&[class*="MuiOutlinedInput-root"]':{padding:0,height:"5vh","& $input":{padding:"0"},"& $endAdornment":{right:"1vh",top:"0.5vh"}},endAdornment:{top:0}}},MuiOutlinedInput:{input:{padding:0}},PrivateNotchedOutline:{root:{height:"5vh"}},MuiFormControl:{root:{height:"5vh"}},MuiFormLabel:{root:{fontSize:"1.8vh"}},MuiInputLabel:{outlined:{transform:"translate(1vh, 1.6vh) scale(1)"}},MuiSvgIcon:{root:{height:"3vh",width:"3vh"}}}})},a.returnAutocList=function(){if(null!==a.props.placesData&&void 0!==a.props.placesData)return r.a.createElement(J.a,{style:{padding:"1.3vh 0.5vw 0.5vh 0.5vw "}},r.a.createElement(M.a,{theme:a.getMuiTheme()},r.a.createElement(ce.a,{style:{height:"5vh"},value:a.props.selectedPlace,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:a.props.placesData.data.places,getOptionLabel:function(e){return e.description_rus},autoHighlight:!0,onChange:function(e,t){a.setSelectedPlace(e,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e",variant:"outlined",fullWidth:!0}))}})))},a.state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"left-menu"},r.a.createElement($,null),r.a.createElement("br",null),this.returnAutocList(),r.a.createElement("br",null),r.a.createElement(oe,{onRegionsBorders:function(t){return e.props.onRegionsBorders(t)},regionsBordersActive:this.props.regionsBordersActive}))}}]),t}(n.Component),de=a(396),pe=a(235),fe=a(156),ge=Object(W.a)({root:{flexGrow:1,background:"#1D8A6B",color:"#ffffff",height:"7vh",padding:0},title:{flexGrow:1,fontSize:"2.5vh",margin:"0 1vw "}});function he(e){var t=ge();return r.a.createElement("div",null,r.a.createElement(de.a,{position:"static",className:t.root},r.a.createElement(pe.a,{style:{height:"7vh",minHeight:0}},r.a.createElement(fe.a,{onClick:function(){window.open("http://"+H+":"+L,"_self")}},r.a.createElement("img",{src:a(357),alt:"logo",style:{height:"6vh",width:"6vh",margin:"0.5vh 0 "}})),r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(B.a,{className:t.title},"\u041e\u043f\u0430\u0441\u043d\u044b\u0435 \u0433\u0438\u0434\u0440\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u044f\u0432\u043b\u0435\u043d\u0438\u044f"),r.a.createElement(B.a,{style:{fontSize:"1.5vh",flexGrow:1,margin:"0 1.5vw ",padding:0}},"\u0413\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0413\u0438\u0434\u0440\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0418\u043d\u0441\u0442\u0438\u0442\u0443\u0442")),r.a.createElement(x.a,{color:"inherit",href:"#"},r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")),function(t){if(void 0!==t)return r.a.createElement(x.a,{color:"inherit",onClick:function(){window.open("http://"+H+":"+L+"/download#"+e.event_id,"_blank")}},r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"))}(e.event_id),r.a.createElement(x.a,{color:"inherit",onClick:function(){window.open("http://"+H+":"+L+"/admin","_blank")}},r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c")))))}function ve(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events?event_id=["+t+"]");case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events?places_id=["+t+"]");case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/places");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events/types");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return je.apply(this,arguments)}function je(){return(je=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events/reasons");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return De.apply(this,arguments)}function De(){return(De=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/common_links");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(){return Se.apply(this,arguments)}function Se(){return(Se=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/media_links");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(g.a)(f.a.mark((function e(t){var a,n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=t){e.next=8;break}return e.next=3,fetch("http://"+I+":"+T+"/api/observation_stations");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:if(void 0===t){e.next=17;break}return console.log("not und"),e.next=12,fetch("http://"+I+":"+T+"/api/observation_stations?type_id=["+t+"]");case 12:return r=e.sent,e.next=15,r.json();case 15:return i=e.sent,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){return Me.apply(this,arguments)}function Me(){return(Me=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/damaged_zones");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(){return(Ie=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/damaged_zones/types");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return He.apply(this,arguments)}function He(){return(He=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/misc_raster_data");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(g.a)(f.a.mark((function e(t){var a,n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=t){e.next=8;break}return e.next=3,fetch("http://"+I+":"+T+"/api/misc_vector_data");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:if(void 0===t){e.next=16;break}return e.next=11,fetch("http://"+I+":"+T+"/api/misc_vector_data?id=["+t+"]");case 11:return r=e.sent,e.next=14,r.json();case 14:return i=e.sent,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/remote_sensing_data");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return Re.apply(this,arguments)}function Re(){return(Re=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/multimedia_records");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(){return(Ve=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/multimedia_records/types");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/observation_stations/types");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,console.log(a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(){return(We=Object(g.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/authorization",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(t+":"+a)},redirect:"follow",referrer:"no-referrer"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){return(Ze=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events/overwrite",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/common_links",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return(qe=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/media_links",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){return($e=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/damaged_zones",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){return(Ke=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/misc_raster_data",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){return(Xe=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/misc_vector_data",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){return(Qe=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/remote_sensing_data",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(){return(et=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/multimedia_records",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(){return(tt=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/places",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(){return(at=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events/reasons",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(){return(nt=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events/types",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(){return(rt=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/observation_stations",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t,a){return lt.apply(this,arguments)}function lt(){return(lt=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/hydro_observations",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t,a){return ct.apply(this,arguments)}function ct(){return(ct=Object(g.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/meteo_observations",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Basic "+btoa(a+":"+n)},redirect:"follow",referrer:"no-referrer",body:t});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(188);function st(){return(st=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t){e.next=8;break}return e.next=3,fetch("http://"+I+":"+T+"/api/places");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return(ut=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events?places_id=["+t+"]");case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).clearEventTableData=function(){a.setState((function(e){return{placeEvents:null,placeName:""}}))},a.setListOfEventsForPlace=function(e,t){console.log(e),a.setWaitingDialogContent(),a.dialogOpen(),function(e){return ut.apply(this,arguments)}(e).then((function(e){return a.setState((function(a){return{placeEvents:e,placeName:t,dialogContent:"table"}}))}))},a.setWaitingDialogContent=function(){a.setState((function(e){return{dialogContent:"waiting"}}))},a.dialogOpen=function(){a.setState((function(e){return{placeDialogOpen:!0}}))},a.dialogClose=function(){a.setState((function(e){return{placeDialogOpen:!1}}))},a.setSelectedPlace=function(e,t){console.log("set extent"),a.setState((function(a){return{bounds:e,selectedPlace:t}}))},a.handleZoom=function(e){a.setState((function(t){return{zoomLvl:e,bounds:null}}))},a.setZoomLvl=function(){console.log("set zoom"),a.setState((function(e){return{zoomLvl:9}}))},a.onRegionsBorders=function(e){a.setState((function(t){return{regionsBordersActive:e}}))},a.returnMap=function(){return null==a.state.placesData?r.a.createElement(J.a,{style:{height:"93vh"}},r.a.createElement(U.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."))):r.a.createElement(G,{bounds:a.state.bounds,setSelectedPlace:function(e,t){a.setSelectedPlace(e,t)},zoomLvl:a.state.zoomLvl,setZoomLvl:function(){return a.setZoomLvl()},handleZoom:function(e){return a.handleZoom(e)},isDialogOpen:a.state.placeDialogOpen,dialogOpen:function(){a.dialogOpen()},dialogClose:function(){a.dialogClose()},dialogContent:a.state.dialogContent,setWaitingDialogContent:function(){a.setWaitingDialogContent()},setListOfEventsForPlace:function(e,t){a.setListOfEventsForPlace(e,t)},placeEvents:a.state.placeEvents,placeName:a.state.placeName,clearEventTableData:function(){a.clearEventTableData()},regions_borders:a.state.regionsBordersActive,vectorData:a.state.vectorData,placesData:a.state.placesData,setEventData:function(e){return a.props.setEventData(e)}})},a.state={placesData:null,vectorData:null,firstDataGetState:!1,regionsBordersActive:!1,bounds:h.latLngBounds([[70,50],[50,70]]),selectedPlace:null,zoomLvl:0,placeDialogOpen:!1,dialogContent:"waiting",placeEvents:null,placeName:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return 0==this.state.firstDataGetState&&(function(e){return st.apply(this,arguments)}(this.state.firstDataGetState).then((function(t){return e.setState((function(e){return{placesData:t,firstDataGetState:!0}}))})),Le(2).then((function(t){return e.setState((function(e){return{vectorData:t}}))}))),r.a.createElement("div",null,r.a.createElement(he,null),r.a.createElement(me,{setSelectedPlace:function(t,a){return e.setSelectedPlace(t,a)},setZoomLvl:function(){return e.setZoomLvl()},selectedPlace:this.state.selectedPlace,setListOfEventsForPlace:function(t,a){e.setListOfEventsForPlace(t,a)},placesData:this.state.placesData,onRegionsBorders:function(t){return e.onRegionsBorders(t)},regionsBordersActive:this.state.regionsBordersActive}),this.returnMap())}}]),t}(n.Component),dt=a(414),pt=a(415),ft=a(2),gt=a(26),ht=a(86),vt=a(165),_t=a(239),bt=a.n(_t),Et=a(308),yt=a.n(Et),Ot=a(153),wt=a(418),jt=a(408),xt=a(234),Dt=a(306),Ct=a.n(Dt),St=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).series=function(e){return[{name:e.label,type:"area",data:e.Parameter}]},a.options=function(e,t){var a=[];return console.log(e.dangerValues),void 0!==e.Parameter&&e.dangerValues.forEach((function(e){console.log(e);var t={y:e.value,borderColor:"red",label:{borderColor:"red",style:{color:"black",background:"#ffb3b3"},text:e.description}};a.push(t),console.log(a)})),{chart:{height:"100%",parentHeightOffset:0,width:"95%",type:"line"},annotations:{yaxis:a},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},stroke:{curve:"smooth",width:1,dashArray:0},fill:{type:"solid",opacity:[.35,1]},labels:e.listLables,markers:{size:0,strokeWidth:2,strokeOpacity:.5,fillOpacity:1,radius:2,hover:{sizeOffset:3}},yaxis:{height:"100%",width:"5%",title:{text:e.label,style:{fontSize:"1.3vh"}},labels:{trim:!0,minHeight:void 0,maxHeight:void 0,style:{fontSize:"1.3vh"},hideOverlappingLabels:!0,showDuplicates:!1}},xaxis:{width:"100%",labels:{offsetX:4,hideOverlappingLabels:!0,showDuplicates:!1,trim:!0,minHeight:void 0,maxHeight:void 0,style:{fontSize:t}},axisBorder:{show:!0},axisTicks:{show:!1},tooltip:{enabled:!1}},tooltip:{shared:!0,intersect:!1,enabledOnSeries:[0],y:{formatter:function(e){return"undefined"!==typeof e?e.toFixed(0):e}}}}},a.state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=1.3*(.01*window.innerHeight);return r.a.createElement("div",{style:{width:"98%",height:"37.92vh",margin:"2vh 1% 0",minHeight:0}},r.a.createElement(Ct.a,{options:this.options(this.props.data,e),series:this.series(this.props.data),type:"line",height:"100%"}))}}]),t}(r.a.Component),kt=a(294),Nt=a(236),zt=a(238),Mt=Object(W.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:"0 0 0 5%",minWidth:0,height:"5.58vh",minHeight:0}}}));function It(e){var t=Mt(),a=e.stationType,n=e.valueType,i=function(t){var a=t.target.value;e.setValueType(a)};if(null!=a){if("\u0413\u0438\u0434\u0440\u043e\u043f\u043e\u0441\u0442"==a)return null!=n&&"air_temperature"!=n&&"precipitations"!=n||e.setNewValueTypeAfterChangingStationType(),r.a.createElement(Nt.a,{className:t.formControl},r.a.createElement(zt.a,{style:{height:"5.58vh"},value:n,onChange:i},r.a.createElement(kt.a,{value:"water_discharge"},r.a.createElement("span",{style:{fontSize:"1.8vh"}},"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u043e\u0434\u044b")),r.a.createElement(kt.a,{value:"water_level"},r.a.createElement("span",{style:{fontSize:"1.8vh"}},"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u043e\u0434\u044b"))));if("\u041c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u044f"==a)return null!=n&&"water_discharge"!=n&&"water_level"!=n||e.setNewValueTypeAfterChangingStationType(),r.a.createElement(Nt.a,{className:t.formControl},r.a.createElement(zt.a,{style:{height:"5.58vh"},value:n,onChange:i},r.a.createElement(kt.a,{value:"air_temperature"},r.a.createElement("span",{style:{fontSize:"1.8vh"}},"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430")),r.a.createElement(kt.a,{value:"precipitations"},r.a.createElement("span",{style:{fontSize:"1.8vh"}},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0441\u0430\u0434\u043a\u043e\u0432"))))}if(null==a)return r.a.createElement("div",null)}var Tt=a(119);function Ht(e){var t=e.name,a=e.dataStart,n=e.dataEnd,i=e.description,l=e.area,o=e.cost,c=e.maxDepth,s=e.meanDepth,u=e.maxSpeed,m=e.meanSpeed,d=e.reason,p=e.margin;return r.a.createElement(Tt.a,{style:{height:"46.5vh",margin:{margin:p},overflow:"auto",background:"transparent"}},r.a.createElement(U.a,{style:{background:"rgba(29, 138, 107, 0.8)",height:"5.58vh",padding:"0 0"}},r.a.createElement(B.a,{variant:"body1",component:"p",align:"center",style:{padding:"1vh",fontSize:"1.8vh"}},r.a.createElement("b",null,"\u0421\u043e\u0431\u044b\u0442\u0438\u0435: ",t))),r.a.createElement(U.a,{style:{background:"rgba(255, 255, 255, 0.8)",overflow:"auto",height:"38.92vh",padding:"2vh 2vh 0 2vh"}},r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},r.a.createElement("b",null,r.a.createElement("i",null,"\u041d\u0430\u0447\u0430\u043b\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f:"))," ",a,r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("i",null,"\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:"))," ",n),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},r.a.createElement("b",null,r.a.createElement("i",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:"))),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},i),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},r.a.createElement("b",null,r.a.createElement("i",null,"\u0417\u0430\u0442\u0440\u043e\u043d\u0443\u0442\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c:"))),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},l),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},r.a.createElement("b",null,r.a.createElement("i",null,"\u0423\u0449\u0435\u0440\u0431 \u0432 \u0440\u0443\u0431\u043b\u044f\u0445:"))),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},o),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},r.a.createElement("b",null,r.a.createElement("i",null,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0433\u043b\u0443\u0431\u0438\u043d\u0430:"))),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},c),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},r.a.createElement("b",null,r.a.createElement("i",null,"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0433\u043b\u0443\u0431\u0438\u043d\u0430:"))),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},s),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},r.a.createElement("b",null,r.a.createElement("i",null,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c:"))),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},u),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},r.a.createElement("b",null,r.a.createElement("i",null,"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c:"))),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},m),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},r.a.createElement("b",null,r.a.createElement("i",null,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430:"))),r.a.createElement(B.a,{variant:"body2",component:"p",style:{fontSize:"1.5vh"}},d)))}var Lt=Object(z.a)({overrides:{MuiBox:{root:{padding:0,height:"100%"}},MuiDialogContent:{root:{padding:0}}}}),Yt=a(64);Yt().format();var Bt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).getMuiTheme=function(){return Object(z.a)({overrides:{MUIDataTableHeadCell:{root:{color:"#a6a6a6",fontSize:"1.5vh",minWidth:0,maxHeight:"7vh",padding:"1vh 0 1vh 1vw"}},MUIDataTableBodyCell:{root:{backgroundColor:"#FFF",minWidth:0,padding:"1vh 0 1vh 1vw"}},MUIDataTableToolbar:{root:{height:"6vh",minHeight:"0vh",maxHeight:"7vh",minWidth:"0px"}},MUIDataTablePagination:{root:{height:"5vh",minHeight:"0vh",minWidth:0,padding:0,overflow:"hidden"},toolbar:{height:"5vh",minHeight:0,minWidth:0,padding:0}},MuiTypography:{h6:{fontSize:"1.5vh"},caption:{fontSize:"1.5vh"},body2:{fontSize:"1.5vh",margin:0}},MuiMenuItem:{root:{fontSize:"1.5vh"}},MuiChip:{label:{fontSize:"1.5vh"}},MuiInputLabel:{root:{fontSize:"1.5vh"}},MuiTooltip:{tooltip:{fontSize:"1.5vh"}},MuiInputBase:{input:{fontSize:"1.5vh"}}}})},a.getData=function(e,t,a){var n=e.map((function(e){return e.meteo_station_id==t?e:null})).filter(Boolean);return console.log(n),"meteo"==a?n.map((function(e){var t=Yt(e.observation_date,"DDMMYYYYTHHmmss").format("YYYY/MM/DD HH:mm");return{air_temperature:e.air_temperature,id:e.id,observation_date:t,meteo_station_id:e.meteo_station_id,precipitations:e.precipitations}})):"hydro"==a?(n=e.map((function(e){return e.hydro_gauge_id==t?e:null})).filter(Boolean)).map((function(e){var t=Yt(e.observation_date,"DDMMYYYYTHHmmss").format("YYYY/MM/DD HH:mm");return{water_level:e.water_level,id:e.id,observation_date:t,hydro_gauge_id:e.hydro_gauge_id,water_discharge:e.water_discharge}})):void 0},a.getColumns=function(e){if("meteo"==e){return[{name:"meteo_station_id",label:"ID \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u0438",options:{filter:!0,setCellProps:function(){return{style:{fontSize:"1.5vh"}}}}},{name:"observation_date",label:"\u0414\u0430\u0442\u0430",options:{filter:!1,setCellProps:function(){return{style:{fontSize:"1.5vh"}}}}},{name:"air_temperature",label:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430, C",options:{filter:!1,setCellProps:function(){return{style:{fontSize:"1.5vh"}}}}},{name:"precipitations",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0441\u0430\u0434\u043a\u043e\u0432, \u043c\u043c",options:{filter:!1,setCellProps:function(){return{style:{fontSize:"1.5vh"}}}}}]}if("hydro"==e){return[{name:"hydro_gauge_id",label:"ID \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u0438",options:{filter:!0}},{name:"observation_date",label:"\u0414\u0430\u0442\u0430",options:{filter:!1}},{name:"water_discharge",label:"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u043e\u0434\u044b (\u043c)",options:{filter:!1}},{name:"water_level",label:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u043e\u0434\u044b (\u043c)",options:{filter:!1}}]}},a.getHeader=function(e){return"meteo"==e?"\u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u0439":"hydro"==e?"\u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u0433\u0438\u0434\u0440\u043e\u043f\u043e\u0441\u0442\u043e\u0432":void 0},a.state={propsData:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.getColumns(this.props.type),t=this.getHeader(this.props.type);return r.a.createElement(M.a,{theme:this.getMuiTheme()},r.a.createElement(N.a,{title:t,data:this.getData(this.props.observations,this.props.stationId,this.props.type),columns:e,options:{filter:!1,download:!0,print:!1,search:!0,responsive:"stacked",selectableRowsHeader:!1,selectableRows:"none",pagination:!0,rowsPerPage:6,rowsPerPageOptions:[],textLabels:{body:{noMatch:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}},fixedHeader:!0}}))}}]),t}(n.Component),Pt=a(205),Ft=a(307),Rt=a.n(Ft),Vt=Object(W.a)((function(e){return{typography:{padding:e.spacing(2)},button:{margin:"0 2%"}}}));function At(e){var t=e.name,a=e.dataStart,n=e.dataEnd,i=e.description,l=e.area,o=e.cost,c=e.maxDepth,s=e.meanDepth,u=e.maxSpeed,m=e.meanSpeed,d=e.reason,p=Vt(),f=r.a.useState(null),g=Object(Q.a)(f,2),h=g[0],v=g[1],_=Boolean(h),b=_?"simple-popover":void 0;return r.a.createElement("div",{style:{height:"5.58vh",width:"5.58vh"}},r.a.createElement(vt.a,{style:{height:"5.58vh",width:"5.58vh",padding:0},"aria-describedby":b,onClick:function(e){v(e.currentTarget)},className:p.button},r.a.createElement(Rt.a,{style:{height:"3vh",width:"3vh",padding:0}})),r.a.createElement(Pt.a,{id:b,open:_,anchorEl:h,onClose:function(){v(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ht,{name:t,dataStart:a,dataEnd:n,description:i,area:l,cost:o,maxDepth:c,meanDepth:s,maxSpeed:u,meanSpeed:m,reason:d,style:{margin:"0 0"}})))}var Gt=a(64);function Wt(e){var t=e.children,a=e.value,n=e.index,i=Object(Ot.a)(e,["children","value","index"]);return r.a.createElement(B.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),r.a.createElement(xt.a,{p:3},t))}function Jt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}Gt().format();var Zt=Object(W.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,height:"46.5vh"},bar:{backgroundColor:"#1D8A6B",minHeight:0,height:"5.58vh"},bar2:{backgroundColor:"#1D8A6B",minHeight:0,height:"5.58vh"},barlabel:{height:"5.58vh",minHeight:0,width:"20%",minWidth:"50px"},label:{fontSize:"1.8vh",height:"5.58vh",minHeight:0,padding:"1.39vh 0 2.39vh"}}}));function Ut(e){var t=e.clickedStationId,a=e.clickedStationType,n=e.eventData,i=Gt(n.event_start_date,"DDMMYYYYTHHmmss").format("DD.MM.YYYY"),l=Gt(n.event_end_date,"DDMMYYYYTHHmmss").format("DD.MM.YYYY"),o=n.observation_stations.map((function(e){return e.id==t?JSON.parse(e.danger_values):null})).filter(Boolean)[0],c=Zt(),s=r.a.useState({value:1,newValueType:null}),u=Object(Q.a)(s,2),m=u[0],d=u[1],p=m.newValueType,f={};if("\u0413\u0438\u0434\u0440\u043e\u043f\u043e\u0441\u0442"==a){var g=n.hydro_observations.map((function(e){return e.hydro_gauge_id==t?{date:Gt(e.observation_date,"DDMMYYYYTHHmmss").format("DD.MM.YYYY HH:mm"),firstParameter:parseFloat(e.water_discharge),secondParameter:parseFloat(e.water_level)}:null})).filter(Boolean).sort((function(e,t){return Gt(e.date,"DD.MM.YYYY HH:mm")-Gt(t.date,"DD.MM.YYYY HH:mm")})),h=g.map((function(e){return e.date})),v=g.map((function(e){return e.firstParameter})),_=g.map((function(e){return e.secondParameter}));"water_discharge"==p&&(f.listLables=h,f.Parameter=v,f.label="\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u043e\u0434\u044b, \u0435\u0434.\u0438\u0437",f.dangerValues=o.water_discharge),"water_level"==p&&(f.listLables=h,f.Parameter=_,f.label="\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u043e\u0434\u044b, \u043c",f.dangerValues=o.water_level),"air_temperature"==p&&(f.listLables=[1],f.Parameter=[1],f.dangerValues=[]),"precipitations"==p&&(f.listLables=[1],f.Parameter=[1],f.dangerValues=[])}if("\u041c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u044f"==a){var b=n.meteo_observations.map((function(e){return e.meteo_station_id==t?{date:Gt(e.observation_date,"DDMMYYYYTHHmmss").format("DD.MM.YYYY HH:mm"),firstParameter:parseFloat(e.air_temperature),secondParameter:parseFloat(e.precipitations)}:null})).filter(Boolean).sort((function(e,t){return Gt(e.date,"DD.MM.YYYY HH:mm")-Gt(t.date,"DD.MM.YYYY HH:mm")})),E=b.map((function(e){return console.log("sortedDict"),console.log(b),e.date})),y=b.map((function(e){return e.firstParameter})),O=b.map((function(e){return e.secondParameter}));"air_temperature"==p&&(f.listLables=E,f.Parameter=y,f.label="\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430, \u0421",f.dangerValues=o.air_temperature),"precipitations"==p&&(f.listLables=E,f.Parameter=O,f.label="\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0441\u0430\u0434\u043a\u043e\u0432, \u043c\u043c",f.dangerValues=o.precipitations),"water_discharge"==p&&(f.listLables=[1],f.Parameter=[1],f.dangerValues=[]),"water_level"==p&&(f.listLables=[1],f.Parameter=[1],f.dangerValues=[])}return null!==a?(0==e.flag&&e.setDrawerWidth(),r.a.createElement("div",{className:c.root},r.a.createElement(de.a,{className:c.bar,position:"static"},r.a.createElement(wt.a,{className:c.bar2,value:m.value,onChange:function(e,t){d(Object(X.a)({},m,{value:t}))},indicatorColor:"primary"},r.a.createElement(At,{name:n.name_rus,dataStart:i,dataEnd:l,description:n.description_rus,area:n.area_km,cost:n.cost_rub,maxDepth:n.max_depth,meanDepth:n.mean_depth,maxSpeed:n.max_speed,meanSpeed:n.mean_speed,reason:n.reason}),r.a.createElement(jt.a,Object.assign({className:c.barlabel,label:r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0413\u0440\u0430\u0444\u0438\u043a")},Jt(1))),r.a.createElement(jt.a,Object.assign({className:c.barlabel,label:r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430")},Jt(2))),r.a.createElement(B.a,{className:c.label,variant:"body1",component:"p"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445:"),r.a.createElement(It,{stationType:a,setValueType:function(e){return function(e){d(Object(X.a)({},m,{newValueType:e}))}(e)},valueType:p,setNewValueTypeAfterChangingStationType:function(){return"\u0413\u0438\u0434\u0440\u043e\u043f\u043e\u0441\u0442"==a&&(null!=p&&"air_temperature"!=p&&"precipitations"!=p||d(Object(X.a)({},m,{newValueType:"water_discharge"}))),void("\u041c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u044f"==a&&(null!=p&&"water_discharge"!=p&&"water_level"!=p||d(Object(X.a)({},m,{newValueType:"air_temperature"}))))}}))),r.a.createElement(M.a,{theme:Lt},r.a.createElement(Wt,{value:m.value,index:1},r.a.createElement(St,{data:f})),r.a.createElement(Wt,{value:m.value,index:2},function(e){return"\u041c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u044f"==e?r.a.createElement(Bt,{observations:n.meteo_observations,stationId:t,type:"meteo"}):"\u0413\u0438\u0434\u0440\u043e\u043f\u043e\u0441\u0442"==e?r.a.createElement(Bt,{observations:n.hydro_observations,stationId:t,type:"hydro"}):void 0}(a))))):null==a?r.a.createElement(Ht,{name:n.name_rus,dataStart:i,dataEnd:l,description:n.description_rus,area:n.area_km,cost:n.cost_rub,maxDepth:n.max_depth,meanDepth:n.mean_depth,maxSpeed:n.max_speed,meanSpeed:n.mean_speed,reason:n.reason,margin:"0 25%",width:"100%"}):void 0}var qt=a(292),$t=Object(W.a)((function(e){return{root:{display:"flex"},menuButton:{margin:"87vh 0 0 23vW",position:"relative",zIndex:10,background:"rgba(29, 138, 107, 0.5)",height:"5.58vh",width:"5.58vh",minHeight:0,minWidth:0,padding:0},menuButton2:{margin:"87vh 0 0 11vW",position:"relative",zIndex:10,background:"rgba(29, 138, 107, 0.5)",height:"5.58vh",width:"5.58vh",minHeight:0,minWidth:0,padding:0},menuButton1:{background:"rgba(29, 138, 107, 0.5)",height:"5.58vh",width:"5.58vh",minHeight:0,minWidth:0,padding:0},hide:{display:"none"},drawerPaper:{width:"50%",height:"52.08vh",margin:"0 25% 0 25%",background:"transparent",overflow:"hidden",border:0},drawerPaper1:{width:"25%",height:"52.08vh",margin:"0 25% 0 25%",background:"transparent",border:0},drawerHeader:{display:"flex",alignItems:"center",justifyContent:"center",height:"5.58vh"}}}));function Kt(e){var t,a=$t(),n=Object(gt.a)(),i=e.panelOpen,l=r.a.useState({fullWidthW:!1,flag:!1}),o=Object(Q.a)(l,2),c=o[0],s=o[1];return r.a.createElement("div",null,r.a.createElement(qt.a,{placement:"top",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},r.a.createElement(vt.a,{color:"inherit",onClick:function(){return e.handleDrawerOpen()},edge:"start",className:Object(ft.a)((t=c.fullWidthW,1==t?a.menuButton:0==t?a.menuButton2:void 0),i&&a.hide)},r.a.createElement(bt.a,null))),r.a.createElement(ht.a,{variant:"persistent",anchor:"bottom",open:i,classes:{paper:function(e){return 1==e?a.drawerPaper:0==e?a.drawerPaper1:void 0}(c.fullWidthW)}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(qt.a,{placement:"top",title:"\u0421\u043a\u0440\u044b\u0442\u044c"},r.a.createElement(vt.a,{onClick:function(){return e.handleDrawerClose()},className:a.menuButton1},"ltr"===n.direction?r.a.createElement(yt.a,null):r.a.createElement(bt.a,null)))),r.a.createElement(Ut,{eventData:e.eventData,clickedStationId:e.clickedStationId,clickedStationType:e.clickedStationType,setDrawerWidth:function(e){s(Object(X.a)({},c,{fullWidthW:!0,flag:!0}))},flag:c.flag})))}a(359);a(360);var Xt=a(64);Xt().format();var Qt=a(188);function ea(){return(ea=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ta=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).setMiniMap=function(){var e=a.map.leafletElement;v.a.control.mousePosition({prefix:"\u0448., \u0434.:",emptyString:" ",position:"bottomright",numDigits:4}).addTo(e);var t=new v.a.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&amp;copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'});new v.a.Control.MiniMap(t,{toggleDisplay:!0,minimized:!0}).addTo(e);new v.a.Control.Measure({position:"bottomright",activeColor:"red",completedColor:"red",primaryLengthUnit:"meters",secondaryLengthUnit:"kilometers",thousandsSep:" ",units:{sqkmeters:{factor:1e-6,display:"Sq kilometers",decimals:3}},primaryAreaUnit:"sqmeters",secondaryAreaUnit:"sqkmeters"}).addTo(e)},a.addJsonToStateList=function(e,t){var n=a.state.vectorJson;n[e]=t,a.setState((function(e){return{vectorJson:n}}))},a.newactiveStationsLayer=function(e,t){return 1==t?(console.log(e),e.observation_stations.map((function(e){var t=e.lat,n=e.lon,i=null,l=null;null!==a.state.styles&&a.state.styles.forEach((function(t){if(t.id==e.type_id){var a=JSON.parse(t.leaflet_style);i=a.color,l=a.opacity}}));var o=e.id,c=e.type,s=e;return r.a.createElement(w.a,{pane:"markerPane",center:[t,n],color:i,opacity:l,onClick:function(e){return a.props.setClickedStationId(s,o,c,e)}},r.a.createElement(j.a,{direction:"right",offset:[-8,-2],opacity:1},r.a.createElement("span",null,e.name_rus),r.a.createElement("br",null),r.a.createElement("span",null,e.type),r.a.createElement("br",null),r.a.createElement("span",null,"id=",e.id)))}))):null},a.activeDamagedZonesLayers=function(e,t){var a=[];for(var n in t)1==t[n]&&a.push(n);return e.damaged_zones.map((function(e){for(var t in a)if(a[t]==e.id){var n=e.id,i=e.description_rus,l=e.type,o=e.area,c=e.cost_rub,s=Xt(e.start_date,"DDMMYYYYTHHmmss").format("DD.MM.YYYY HH:mm"),u=Xt(e.end_date,"DDMMYYYYTHHmmss").format("DD.MM.YYYY HH:mm"),m=Qt(e.geom),d=JSON.parse(e.leaflet_style);return console.log(m),r.a.createElement(_.a,{key:n,data:m,style:d},r.a.createElement(dt.a,{maxWidth:"500"},r.a.createElement("b",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:")," ",i,r.a.createElement("br",null),r.a.createElement("b",null,"\u0422\u0438\u043f:")," ",l,r.a.createElement("br",null),r.a.createElement("b",null,"\u041f\u043b\u043e\u0449\u0430\u0434\u044c:")," ",o," \u043a\u043c",r.a.createElement("br",null),r.a.createElement("b",null,"\u0423\u0449\u0435\u0440\u0431:")," ",c," \u0440\u0443\u0431\u043b\u0435\u0439",r.a.createElement("br",null),r.a.createElement("b",null,"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c:")," ",s," - ",u,r.a.createElement("br",null)))}}))},a.activeVectorLayers=function(e,t){var n=[];for(var i in t)1==t[i]&&n.push(i);return e.misc_vector_data.map((function(e){for(var t in n)if(n[t]==e.id){var i=e.id,l=a.state.vectorJson[i];return console.log(l),r.a.createElement(_.a,{key:Math.random(),data:l})}}))},a.activeRasterLayers=function(e,t){var a=[];for(var n in t)1==t[n]&&a.push(n);return e.misc_raster_data.map((function(e){for(var t in a)if(a[t]==e.id){var n=JSON.parse(e.image_for_map_extent).x_min,i=JSON.parse(e.image_for_map_extent).y_min,l=JSON.parse(e.image_for_map_extent).x_max,o=JSON.parse(e.image_for_map_extent).y_max,c="http://"+e.image_for_map;return r.a.createElement(pt.a,{bounds:[[n,i],[l,o]],url:c})}}))},a.activeRSLayers=function(e,t){var a=[];for(var n in t)1==t[n]&&a.push(n);return e.remote_sensing_data.map((function(e){for(var t in a)if(a[t]==e.id){var n=JSON.parse(e.image_for_map_extent).x_min,i=JSON.parse(e.image_for_map_extent).y_min,l=JSON.parse(e.image_for_map_extent).x_max,o=JSON.parse(e.image_for_map_extent).y_max,c="http://"+e.image_for_map;return r.a.createElement(pt.a,{bounds:[[n,i],[l,o]],url:c})}}))},a.state={lat:59.685614,lng:33.292193,zoom:8,vectorDataGet:!1,vectorJson:{},styles_get:!1,styles:null,setMiniMap:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;void 0!==this.map&&0==this.state.setMiniMap&&(this.setMiniMap(),this.setState((function(e){return{setMiniMap:!0}}))),0==this.state.styles_get&&Ae().then((function(t){e.setState((function(e){return{styles:t.data.types,styles_get:!0}}))}));var t=this.props.eventData,a=v.a.geoJson(Qt(t.places[0].polygon_geom.toString())).getBounds(),n=this.props.activeDamagedZonesLayers,i=this.props.activeVectorLayers,l=this.props.activeRasterLayers,o=this.props.activeRSLayers,c=this.props.activeStationsLayer;return 0==this.state.vectorDataGet&&t.misc_vector_data.forEach((function(t){var a=t.geojson_for_map,n=t.id;(function(e){return ea.apply(this,arguments)})(a).then((function(t){return e.addJsonToStateList(n,t)})),e.setState((function(e){return{vectorDataGet:!0}}))})),r.a.createElement("div",null,r.a.createElement(y.a,{className:"event-map",center:this.props.center,zoom:13,bounds:a,ref:function(t){e.map=t}},r.a.createElement(O.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.newactiveStationsLayer(t,c),this.activeDamagedZonesLayers(t,n),this.activeVectorLayers(t,i),this.activeRasterLayers(t,l),this.activeRSLayers(t,o)))}}]),t}(n.Component),aa=Object(W.a)({title:{fontSize:14},box:{background:"#ffffff",color:"#131E16",margin:5}});function na(e){var t=aa();return r.a.createElement(J.a,{className:t.box},r.a.createElement(U.a,null,r.a.createElement(B.a,{variant:"body1",style:{fontSize:"1.8vh"},component:"p"},r.a.createElement("b",null,e.newsHeader)),r.a.createElement(B.a,{style:{fontSize:"1.8vh"},component:"p"},e.newsBody)),r.a.createElement(Z.a,null,r.a.createElement(x.a,{size:"small",style:{fontSize:"1.4vh"},href:e.newsLink,target:"_blank"},"\u0427\u0438\u0442\u0430\u0442\u044c \u0432 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0435")))}var ra=Object(W.a)((function(e){return{box:{height:"3vh"},margin:{margin:"0 0 0 0",fontSize:11}}}));function ia(e){var t=ra(),a=e.name,n=e.id,i=e.categ,l=r.a.useState({"\u0421\u0442\u0430\u043d\u0446\u0438\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f":!0}),o=Object(Q.a)(l,2),c=o[0],s=o[1];return r.a.createElement("div",{className:t.box},r.a.createElement(te.a,{className:t.margin,control:r.a.createElement(ee.a,{checked:c[a],onChange:function(t,a){return function(n){s(Object(X.a)({},c,Object(K.a)({},t,n.target.checked))),e.setCheckedLayers(t,a,i)}}(a,n),value:a,icon:r.a.createElement(ne.a,{style:{fontSize:"2.5vh"}}),checkedIcon:r.a.createElement(ie.a,{style:{fontSize:"2.5vh"}})}),label:r.a.createElement("span",{style:{fontSize:"1.8vh"}},e.name)}))}var la=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).createDocumentCard=function(e){return 0!==e.media_links.length?e.media_links.map((function(e){var t=e.name_rus,a=e.description_rus,n=e.url;return r.a.createElement(na,{newsHeader:t,newsBody:a,newsLink:n})})):r.a.createElement(J.a,{style:{background:"#ffffff",color:"#131E16",margin:5,height:"20%"}},r.a.createElement(B.a,{variant:"body1",component:"p",style:{margin:"25% 0",fontSize:"1.8vh"},align:"center"},"\u0423\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f \u0432 \u043d\u043e\u0432\u043e\u0441\u0442\u044f\u0445 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))},a.state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.eventData;return r.a.createElement("div",{style:{margin:"0"}},this.createDocumentCard(e))}}]),t}(n.Component),oa=a(400),ca=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).path="http://"+a.props.path,a.id=a.props.id,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){try{document.getElementById(this.id).setAttribute("allowfullscreen","true"),document.getElementById(this.id).setAttribute("src",this.path)}catch(e){}}},{key:"render",value:function(){return r.a.createElement(J.a,{style:{width:"29vw",minHeight:"29vh",margin:0}},r.a.createElement(U.a,{style:{width:"28vw",minHeight:"28vh",margin:"0.5vh 0.5vw",padding:0}},r.a.createElement(oa.a,{style:{width:"28vw",minHeight:"28vh"},id:this.id,component:this.props.type,alt:this.props.title}),r.a.createElement(B.a,{variant:"body2",align:"center",component:"p"},r.a.createElement("span",{style:{fontSize:"1.5vh"}},this.props.title))))}}]),t}(n.Component);function sa(e){var t=e.open,a=(e.eventData,e.title),n="http://"+e.path;e.type,e.clickedImageId;return r.a.createElement(D.a,{open:t,onClose:function(){return e.dialogClose()},maxWidth:"lg",scroll:"body"},r.a.createElement(M.a,{theme:Lt},r.a.createElement(S.a,null,r.a.createElement(J.a,null,r.a.createElement(U.a,null,r.a.createElement(oa.a,{style:{width:"100%",height:"100%"},image:n,component:"img",alt:a}),r.a.createElement(B.a,{variant:"body2",component:"p"},a))))),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){e.dialogClose(),console.log(n)},color:"primary",autoFocus:!0},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))}var ua=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).dialogOpen=function(){a.setState((function(e){return{dialogOpen:!0}}))},a.dialogClose=function(){a.setState((function(e){return{dialogOpen:!1}}))},a.setClickedImageIdType=function(e,t,n,r){a.setState((function(a){return{clickedImageId:e,clickedImageType:t,clPath:n,clTitle:r}}))},a.createEventCard=function(e,t){return 0!=e.multimedia_records.length?e.multimedia_records.map((function(e){console.log(e);var n=e.name_rus,i=e.file;if("photo"==t){var l=!1;if("photo"==e.type){l=!0;var o="img",c=e.id;return r.a.createElement(fe.a,{onClick:function(){a.dialogOpen(),a.setClickedImageIdType(c,o,i,n)}},r.a.createElement(ca,{id:c,type:o,title:n,path:i}))}if(0==l)return r.a.createElement(J.a,{style:{width:"29.5vw",height:"29.5vh",margin:"0.5vh 0.5vw"}},r.a.createElement(U.a,null,r.a.createElement(B.a,{align:"center",style:{margin:"25% 0"},variant:"body1",component:"p"},"\u0424\u043e\u0442\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442")))}if("video"==t){var s=!1;if("video"==e.type){s=!0,o="iframe",c=e.id;return r.a.createElement(fe.a,{style:{width:"30vw",padding:0,margin:0},onClick:function(){a.dialogOpen(),a.setClickedImageIdType(c,o,i,n)}},r.a.createElement(ca,{id:c,type:o,title:n,path:i}))}if(0==s)return r.a.createElement(J.a,{style:{width:"29.5vw",height:"29.5vh",margin:"0.5vh 0.5vw"}},r.a.createElement(U.a,null,r.a.createElement(B.a,{align:"center",style:{margin:"25% 0"},variant:"body1",component:"p"},"\u0412\u0438\u0434\u0435\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442")))}})):"photo"==t?r.a.createElement(J.a,{style:{width:"29.5vw",height:"29.5vh",margin:"0.5vh 0.5vw"}},r.a.createElement(U.a,null,r.a.createElement(B.a,{align:"center",style:{margin:"25% 0"},variant:"body1",component:"p"},"\u0424\u043e\u0442\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))):"video"==t?r.a.createElement(J.a,{style:{width:"29.5vw",height:"29.5vh",margin:"0.5vh 0.5vw"}},r.a.createElement(U.a,null,r.a.createElement(B.a,{align:"center",style:{margin:"25% 0"},variant:"body1",component:"p"},"\u0412\u0438\u0434\u0435\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))):void 0},a.returnDialog=function(e,t){if(null!=e)return r.a.createElement(sa,{open:a.state.dialogOpen,dialogClose:function(){return a.dialogClose()},dialogOpen:function(){return a.dialogOpen()},eventData:t,clickedImageId:a.state.clickedImageId,type:a.state.clickedImageType,path:a.state.clPath,title:a.state.clTitle})},a.state={dialogOpen:!1,clickedImageId:null,clickedImageType:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.eventData,t=this.props.fileType;return r.a.createElement("div",null,r.a.createElement(Tt.a,{style:{maxHeight:"40vh",width:"30vw",padding:0,margin:0,overflow:"auto",background:"#97C8B3"}},this.createEventCard(e,t)),this.returnDialog(this.state.clickedImageId,e))}}]),t}(n.Component),ma=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).createDocumentCard=function(e){return 0!==e.common_links.length?e.common_links.map((function(e){var t=e.name_rus,a=e.description_rus,n=e.url;return r.a.createElement(na,{newsHeader:t,newsBody:a,newsLink:n})})):r.a.createElement(J.a,{style:{margin:5,height:"20%"}},r.a.createElement(B.a,{variant:"body1",component:"p",style:{margin:"25% 0",fontSize:"1.8vh"},align:"center"},"\u0412\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))},a.state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.eventData;return r.a.createElement("div",{style:{margin:"0"}},this.createDocumentCard(e))}}]),t}(n.Component);function da(e){var t=e.children,a=e.value,n=e.index,i=Object(Ot.a)(e,["children","value","index"]);return r.a.createElement(B.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),r.a.createElement(xt.a,{p:3},t))}function pa(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var fa=Object(W.a)((function(e){return{root:{flexGrow:1,height:"50%",width:"100%"},bar:{backgroundColor:"#1D8A6B",minHeight:0,height:"5.58vh"},bar2:{backgroundColor:"#1D8A6B",minHeight:0,height:"5.58vh"},barlabel:{margin:"0.5%",height:"5.58vh",minHeight:0,width:"49%",minWidth:"20px"},box:{padding:0,margin:0,height:"88%",maxHeight:"88%",overflow:"auto"}}}));function ga(e){var t=e.eventData,a=fa(),n=r.a.useState(0),i=Object(Q.a)(n,2),l=i[0],o=i[1];return r.a.createElement("div",{className:a.root},r.a.createElement(de.a,{className:a.bar,position:"static"},r.a.createElement(wt.a,{className:a.bar2,value:l,onChange:function(e,t){o(t)},indicatorColor:"primary","aria-label":"simple tabs example"},r.a.createElement(jt.a,Object.assign({className:a.barlabel,label:r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")},pa(0))),r.a.createElement(jt.a,Object.assign({className:a.barlabel,wrapped:!0,label:r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0412\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438")},pa(1))))),r.a.createElement(M.a,{theme:Lt},r.a.createElement(da,{className:a.box,value:l,index:0},r.a.createElement(la,{eventData:t})),r.a.createElement(da,{className:a.box,value:l,index:1},r.a.createElement(ma,{eventData:t}))))}var ha=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).createDamagedZonesCheck=function(e){var t=e.damaged_zones.map((function(e){var t=e.description_rus,n=e.id;return r.a.createElement(ia,{name:t,id:n,categ:"damaged_zones",setCheckedLayers:function(e,t,n){return a.props.setCheckedLayers(e,t,n)}})}));return 0!==t.length&&t.unshift(r.a.createElement(B.a,{variant:"body1",component:"p",style:{margin:"auto",color:" #333333",textAlign:"center",fontSize:"1.8vh"}},r.a.createElement("b",null,"\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0438:"))),t},a.createVectorCheck=function(e){var t=e.misc_vector_data.map((function(e){var t=e.name_rus,n=e.id;return r.a.createElement(ia,{name:t,id:n,categ:"misc_vector_data",setCheckedLayers:function(e,t,n){return a.props.setCheckedLayers(e,t,n)}})}));return 0!==t.length&&t.unshift(r.a.createElement(B.a,{variant:"body1",component:"p",style:{margin:"auto",color:" #333333",textAlign:"center",fontSize:"1.8vh"}},r.a.createElement("b",null,"\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u044b\u0435 \u0441\u043b\u043e\u0438:"))),t},a.createRasterCheck=function(e){var t=e.misc_raster_data.map((function(e){var t=e.name_rus,n=e.id;return r.a.createElement(ia,{name:t,id:n,categ:"misc_raster_data",setCheckedLayers:function(e,t,n){return a.props.setCheckedLayers(e,t,n)}})}));return 0!==t.length&&t.unshift(r.a.createElement(B.a,{variant:"body1",component:"p",style:{margin:"auto",color:" #333333",textAlign:"center",fontSize:"1.8vh"}},r.a.createElement("b",null,"\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u044b\u0435 \u0441\u043b\u043e\u0438:"))),t},a.createRemSensCheck=function(e){var t=e.remote_sensing_data.map((function(e){var t=e.description_rus,n=e.id;return r.a.createElement(ia,{name:t,id:n,categ:"remote_sensing_data",setCheckedLayers:function(e,t,n){return a.props.setCheckedLayers(e,t,n)}})}));return 0!==t.length&&t.unshift(r.a.createElement(B.a,{variant:"body1",component:"p",style:{margin:"auto",color:" #333333",textAlign:"center",fontSize:"1.8vh"}},r.a.createElement("b",null,"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u043e\u043d\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:"))),t},a.createStationsCheck=function(){return r.a.createElement(ia,{name:"\u0421\u0442\u0430\u043d\u0446\u0438\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f",id:0,categ:"stations",setCheckedLayers:function(e,t,n){return a.props.setCheckedLayers(e,t,n)}})},a.state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.eventData;return r.a.createElement("div",{className:"event-documents-menu"},r.a.createElement(Tt.a,{style:{height:"50%",background:"#97C8B3"}},r.a.createElement(Tt.a,{style:{maxHeight:"100%",height:"100%",width:"100%",overflow:"auto",background:"#ffffff"}},r.a.createElement("br",null),r.a.createElement(B.a,{variant:"body1",component:"p",style:{margin:"1vh 0 0 0",color:"#000000",textAlign:"center",fontSize:"1.8vh"}},r.a.createElement("b",null,"\u0423\u041f\u0420\u0410\u0412\u041b\u0415\u041d\u0418\u0415 \u041a\u0410\u0420\u0422\u041e\u0419:")),this.createStationsCheck(e),r.a.createElement("br",null),this.createDamagedZonesCheck(e),r.a.createElement("br",null),this.createRemSensCheck(e),r.a.createElement("br",null),this.createVectorCheck(e),r.a.createElement("br",null),this.createRasterCheck(e))),r.a.createElement(ga,{eventData:e}))}}]),t}(n.Component),va=a(404),_a=a(309),ba=a.n(_a),Ea=Object(W.a)((function(e){return{fab:{margin:"1vw",height:"6.8vh",background:"#1D8A6B",borderRadius:35,"&:hover":{backgroundColor:"#97C8B3",borderColor:"#97C8B3"}},extendedIcon:{marginRight:e.spacing(1),height:"2.5vh"}}}));function ya(e){var t=Ea();return r.a.createElement("div",{style:{float:"right"}},r.a.createElement(va.a,{variant:"extended",className:t.fab,onClick:function(){return e.dialogOpen()}},r.a.createElement(ba.a,{className:t.extendedIcon}),r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u041c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u044b")))}var Oa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).dialogOpen=function(){a.setState((function(e){return{dialogOpen:!0}}))},a.dialogClose=function(){a.setState((function(e){return{dialogOpen:!1}}))},a.setClickedImageIdType=function(e,t,n,r){a.setState((function(a){return{clickedImageId:e,clickedImageType:t,clPath:n,clTitle:r}}))},a.setEmptyCardTrue=function(){a.setState((function(e){return{emptyCard:!1}}))},a.createEventCard=function(e,t){if(0==e.multimedia_records.length)return r.a.createElement(J.a,{style:{minWidth:0,width:"30vw",height:"30vh",margin:0,padding:0}},r.a.createElement(U.a,{style:{width:"30vw",height:"30vh",margin:0,padding:0}},r.a.createElement(B.a,{style:{margin:"13.5vh",paddng:0},align:"center",variant:"body1",component:"p"},r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0424\u043e\u0442\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))));var n=[];return e.multimedia_records.forEach((function(e){if("photo"==e.type){var t=e.id,i=e.name_rus+" ("+e.source+")",l=e.file;n.push(r.a.createElement(fe.a,{onClick:function(){a.dialogOpen(),a.setClickedImageIdType(t,"img",l,i)}},r.a.createElement(ca,{id:t,type:"img",title:i,path:l})))}})),0==n.length?r.a.createElement(J.a,{style:{minWidth:0,width:"30vw",height:"30vh",margin:0,padding:0}},r.a.createElement(U.a,{style:{width:"30vw",height:"30vh",margin:0,padding:0}},r.a.createElement(B.a,{style:{margin:"13.5vh",paddng:0},align:"center",variant:"body1",component:"p"},r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0424\u043e\u0442\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442")))):n},a.returnDialog=function(e,t){if(null!=e)return console.log(a.state.clPath),r.a.createElement(sa,{open:a.state.dialogOpen,dialogClose:function(){return a.dialogClose()},dialogOpen:function(){return a.dialogOpen()},eventData:t,clickedImageId:a.state.clickedImageId,type:a.state.clickedImageType,path:a.state.clPath,title:a.state.clTitle})},a.state={dialogOpen:!1,clickedImageId:null,clickedImageType:null,emptyCard:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.eventData,t=this.props.fileType;return r.a.createElement("div",null,r.a.createElement(Tt.a,{style:{maxHeight:"40vh",width:"30vw",padding:0,margin:0,overflowX:"hidden",overflowY:"auto",background:"#97C8B3"}},this.createEventCard(e,t)),this.returnDialog(this.state.clickedImageId,e))}}]),t}(n.Component),wa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).setEmptyCardTrue=function(){a.setState((function(e){return{emptyCard:!1}}))},a.createEventCard=function(e){if(0==e.multimedia_records.length)return r.a.createElement(J.a,{style:{minWidth:0,width:"30vw",height:"30vh",margin:0,padding:0}},r.a.createElement(U.a,{style:{width:"30vw",height:"30vh",margin:0,padding:0}},r.a.createElement(B.a,{style:{margin:"13.5vh",paddng:0},align:"center",variant:"body1",component:"p"},r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0412\u0438\u0434\u0435\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))));var t=[];return e.multimedia_records.forEach((function(e){if("video"==e.type){var a=e.id,n=e.name_rus+" ("+e.source+")",i=e.file;t.push(r.a.createElement(ca,{id:a,type:"iframe",title:n,path:i}))}})),0==t.length?r.a.createElement(J.a,{style:{minWidth:0,width:"30vw",height:"30vh",margin:0,padding:0}},r.a.createElement(U.a,{style:{width:"30vw",height:"30vh",margin:0,padding:0}},r.a.createElement(B.a,{style:{margin:"13.5vh",paddng:0},align:"center",variant:"body1",component:"p"},r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0412\u0438\u0434\u0435\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442")))):t},a.state={emptyCard:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.eventData;return r.a.createElement("div",null,r.a.createElement(Tt.a,{style:{maxHeight:"40vh",width:"30vw",padding:0,margin:0,overflowX:"hidden",overflowY:"auto",background:"#97C8B3"}},this.createEventCard(e)))}}]),t}(n.Component);function ja(e){var t=e.children,a=e.value,n=e.index,i=Object(Ot.a)(e,["children","value","index"]);return r.a.createElement(B.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),r.a.createElement(xt.a,{p:3},t))}function xa(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Da=Object(W.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,width:"100%",height:"100%"},bar:{backgroundColor:"#1D8A6B",minHeight:0,height:"5.58vh"},bar2:{backgroundColor:"#1D8A6B",minHeight:0,height:"5.58vh"},barlabel:{margin:"0.5%",height:"5.58vh",minHeight:0,width:"49%",minWidth:"20px"},box:{padding:0,margin:0}}}));function Ca(e){var t=e.eventData,a=Da(),n=r.a.useState(0),i=Object(Q.a)(n,2),l=i[0],o=i[1];return r.a.createElement("div",{className:a.root},r.a.createElement(de.a,{className:a.bar,position:"static"},r.a.createElement(wt.a,{className:a.bar2,value:l,onChange:function(e,t){o(t)},indicatorColor:"primary","aria-label":"simple tabs example"},r.a.createElement(jt.a,Object.assign({className:a.barlabel,label:r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438")},xa(0))),r.a.createElement(jt.a,Object.assign({className:a.barlabel,label:r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0412\u0438\u0434\u0435\u043e")},xa(1))))),r.a.createElement(M.a,{theme:Lt},r.a.createElement(ja,{className:a.box,value:l,index:0},r.a.createElement(Oa,{eventData:t})),r.a.createElement(ja,{className:a.box,value:l,index:1},r.a.createElement(wa,{eventData:t,fileType:"video"}))))}var Sa=Object(W.a)({dialogPaper:{minWidth:"30vw",maxWidth:"30vw",margin:0,padding:0}});function ka(e){var t=Sa(),a=e.open;e.type;return r.a.createElement(D.a,{classes:{paper:t.dialogPaper},open:a,onClose:function(){return e.dialogClose()},scroll:"body"},r.a.createElement(M.a,{theme:Lt},r.a.createElement(S.a,{style:{width:"100%",margin:0}},r.a.createElement(Ca,{eventData:e.eventData}))),r.a.createElement(C.a,{style:{height:"3vh"}},r.a.createElement(x.a,{onClick:function(){return e.dialogClose()},color:"primary",autoFocus:!0},r.a.createElement("span",{style:{fontSize:"1.5vh"}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}function Na(){return(Na=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+I+":"+T+"/api/events?event_id=["+t+"]");case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var za=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).getMuiTheme2=function(){return Object(z.a)({overrides:{MuiAutocomplete:{inputRoot:{'&[class*="MuiOutlinedInput-root"]':{padding:0,height:"5vh","& $input":{padding:"0",fontSize:"1.8vh"},"& $endAdornment":{right:"1vh",top:"0.5vh"}},endAdornment:{top:0}}},MuiOutlinedInput:{input:{padding:0}},PrivateNotchedOutline:{root:{height:"5vh"}},MuiFormControl:{root:{height:"5vh"}},MuiFormLabel:{root:{fontSize:"1.8vh"}},MuiInputLabel:{outlined:{transform:"translate(1vh, 1.6vh) scale(1)"}},MuiSvgIcon:{root:{height:"3vh",width:"3vh"}},MuiInputBase:{root:{fontSize:"1.8vh"},input:{fontSize:"1.8vh"}}}})},a.handleDrawerOpen=function(){a.setState((function(e){return{panelOpen:!0}}))},a.handleDrawerClose=function(){a.setState((function(e){return{panelOpen:!1}}))},a.dialogOpen=function(){a.setState((function(e){return{dialogOpen:!0}}))},a.dialogClose=function(){a.setState((function(e){return{dialogOpen:!1}}))},a.setClickedStationId=function(e,t,n,r){console.log(t),console.log(n),console.log(e),a.setState((function(a){return{clickedStationObj:e,center:[e.lat-.015,e.lon],clickedStationId:t,clickedStationType:n,panelOpen:!0}}))},a.setClickedStationIdAutoc=function(e,t){if(null!==t){var n=t,r=t.id,i=t.type;a.setClickedStationId(n,r,i,e)}},a.setIdEventData=function(e){0==e&&function(e){return Na.apply(this,arguments)}(window.location.href.split("#")[1]).then((function(e){return a.setState((function(t){return{eventData:e.data.events[0],eventId_:e.data.events[0].id,firstDataGetState:!0}}))}))},a.setCheckedLayers=function(e,t,n){console.log("name = "+e);var r=a.state.activeDamagedZonesLayers,i=a.state.activeVectorLayers,l=a.state.activeRasterLayers,o=a.state.activeRSLayers;"damaged_zones"==n&&(void 0==a.state.activeDamagedZonesLayers[t]||0==a.state.activeDamagedZonesLayers[t]?(r[t]=!0,a.setState((function(e){return{activeDamagedZonesLayers:r}}))):(r[t]=!1,a.setState((function(e){return{activeDamagedZonesLayers:r}})))),"misc_vector_data"==n&&(void 0==a.state.activeVectorLayers[t]||0==a.state.activeVectorLayers[t]?(i[t]=!0,a.setState((function(e){return{activeVectorLayers:i}}))):(i[t]=!1,a.setState((function(e){return{activeVectorLayers:i}})))),"misc_raster_data"==n&&(void 0==a.state.activeRasterLayers[t]||0==a.state.activeRasterLayers[t]?(l[t]=!0,a.setState((function(e){return{activeRasterLayers:l}}))):(l[t]=!1,a.setState((function(e){return{activeRasterLayers:l}})))),"remote_sensing_data"==n&&(void 0==a.state.activeRSLayers[t]||0==a.state.activeRSLayers[t]?(o[t]=!0,a.setState((function(e){return{activeRSLayers:o}}))):(o[t]=!1,a.setState((function(e){return{activeRSLayers:o}})))),"stations"==n&&(0==a.state.activeStationsLayer&&a.setState((function(e){return{activeStationsLayer:!0}})),1==a.state.activeStationsLayer&&a.setState((function(e){return{activeStationsLayer:!1}})))},a.returnDocsMenu=function(e){if(1==e)return r.a.createElement(ha,{eventData:a.state.eventData,setCheckedLayers:function(e,t,n){return a.setCheckedLayers(e,t,n)}})},a.returnEventMap=function(e){return 1==e?r.a.createElement(ta,{eventData:a.state.eventData,setClickedStationId:function(e,t,n,r){return a.setClickedStationId(e,t,n,r)},center:a.state.center,activeDamagedZonesLayers:a.state.activeDamagedZonesLayers,activeVectorLayers:a.state.activeVectorLayers,activeRasterLayers:a.state.activeRasterLayers,activeRSLayers:a.state.activeRSLayers,activeStationsLayer:a.state.activeStationsLayer}):r.a.createElement(J.a,{style:{height:"93vh"}},r.a.createElement(U.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445...")))},a.returnMediaMenu=function(e){if(1==e)return r.a.createElement(ua,{eventData:a.state.eventData})},a.returnDiagramCard=function(e){if(1==e)return r.a.createElement(Ut,{eventData:a.state.eventData,clickedStationId:a.state.clickedStationId,clickedStationType:a.state.clickedStationType})},a.returnPanelBottom=function(e){if(1==e)return r.a.createElement(Kt,{eventData:a.state.eventData,clickedStationId:a.state.clickedStationId,clickedStationType:a.state.clickedStationType,panelOpen:a.state.panelOpen,handleDrawerOpen:function(){return a.handleDrawerOpen()},handleDrawerClose:function(){return a.handleDrawerClose()}})},a.returnEventMediaDialog=function(e){if(1==e)return r.a.createElement(ka,{open:a.state.dialogOpen,dialogClose:function(){return a.dialogClose()},eventData:a.state.eventData})},a.returnEventMediaButton=function(e){if(1==e)return r.a.createElement(ya,{dialogOpen:function(){return a.dialogOpen()}})},a.returnAutoComp=function(e){if(1==e)return r.a.createElement("div",{style:{display:"inline-block",float:"right",width:"17vw",margin:"1vw "}},r.a.createElement(J.a,{style:{padding:"1.3vh 0.5vw 0.5vh 0.5vw ",position:"relative",zIndex:2e3}},r.a.createElement(M.a,{theme:a.getMuiTheme2()},r.a.createElement(ce.a,{style:{height:"5vh"},value:a.state.clickedStationObj,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:a.state.eventData.observation_stations,getOptionLabel:function(e){return e.id+" - "+e.name_rus},autoHighlight:!0,onChange:function(e,t){a.setClickedStationIdAutoc(e,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u043d\u0446\u0438\u044e",variant:"outlined"}))}}))))},a.state={dialogOpen:!1,eventData:null,firstDataGetState:!1,clickedStationId:null,clickedStationType:null,activeDamagedZonesLayers:{},activeVectorLayers:{},activeRasterLayers:{},activeRSLayers:{},activeStationsLayer:!0,panelOpen:!0,clickedStationObj:null,center:[0,0]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return null!==this.state.eventData&&(document.title=this.state.eventData.name_rus),0==this.state.firstDataGetState&&this.setIdEventData(this.state.firstDataGetState),r.a.createElement("div",null,r.a.createElement(he,{event_id:this.state.eventId_}),this.returnDocsMenu(this.state.firstDataGetState),this.returnEventMap(this.state.firstDataGetState),this.returnEventMediaButton(this.state.firstDataGetState),this.returnAutoComp(this.state.firstDataGetState),this.returnPanelBottom(this.state.firstDataGetState),this.returnEventMediaDialog(this.state.firstDataGetState))}}]),t}(n.Component),Ma=a(310),Ia=a.n(Ma),Ta=a(311),Ha=a.n(Ta),La=a(237),Ya=a(202),Ba=a(380),Pa=Object(W.a)({root:{flexGrow:1,background:"#1D8A6B",color:"#ffffff",height:"10vh"},textfield:{width:"80%",margin:"0 10%"},card:{width:"28%",margin:"30vh 36%"}});function Fa(e){var t=Pa(),a=r.a.useState({loginValue:null,passwordValue:null,showPassword:!1}),n=Object(Q.a)(a,2),i=n[0],l=n[1];return r.a.createElement(J.a,{elevation:7,className:t.card},r.a.createElement(U.a,null,function(){if(1==e.accessDenied)return r.a.createElement(B.a,{color:"secondary",align:"center",gutterBottom:!0},"\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}(),r.a.createElement(B.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(se.a,{className:t.textfield,id:"login",label:"Login",value:i.loginValue,onChange:function(e){return function(e){l(Object(X.a)({},i,{loginValue:e.target.value}))}(e)},autoFocus:!0}),r.a.createElement(Nt.a,{className:t.textfield},r.a.createElement(La.a,null,"Password"),r.a.createElement(Ya.a,{id:"password",type:i.showPassword?"text":"password",value:i.passwordValue,onChange:function(e){return function(e){l(Object(X.a)({},i,{passwordValue:e.target.value}))}(e)},endAdornment:r.a.createElement(Ba.a,{position:"end"},r.a.createElement(vt.a,{"aria-label":"toggle password visibility",onClick:function(){l(Object(X.a)({},i,{showPassword:!i.showPassword}))},onMouseDown:function(e){e.preventDefault()}},i.showPassword?r.a.createElement(Ia.a,null):r.a.createElement(Ha.a,null)))})),r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(x.a,{size:"small",color:"secondary",variant:"outlined",onClick:function(){return e.getAccessData(i.loginValue,i.passwordValue)}},"\u0412\u043e\u0439\u0442\u0438")))))}a(100);var Ra=a(49),Va=(a(101),a(403)),Aa=a(42),Ga=a(33),Wa=a.n(Ga),Ja=Object(W.a)((function(e){return{box:{width:"100%"},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function Za(e){var t=Ja(),a=r.a.useState({url:"",name_rus:"",name_eng:"",lang:"",description_rus:"",description_eng:""}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=[{url:i.url,name_rus:i.name_rus,name_eng:i.name_eng,lang:i.lang,description_rus:i.description_rus,description_eng:i.description_eng}],c=new FormData;c.append("common_links",JSON.stringify(o));var s=function(){""!==o[0].url&&""!==o[0].name_rus&&""!==o[0].name_eng&&""!==o[0].description_rus&&""!==o[0].description_eng&&""!==o[0].lang&&function(e,t,a){return Ue.apply(this,arguments)}(c,e.login,e.password).then((function(t){return e.closeDialog("common_links_list")}))};return r.a.createElement("div",{className:t.box},r.a.createElement(se.a,{className:t.textfield,value:i.url,onChange:function(e){return function(e){l(Object(X.a)({},i,{url:e.target.value}))}(e)},id:"url",label:"URL"}),r.a.createElement(se.a,{className:t.textfield,value:i.name_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_rus:e.target.value}))}(e)},id:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441.)"}),r.a.createElement(se.a,{className:t.textfield,value:i.name_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_eng:e.target.value}))}(e)},id:"name_eng",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b.)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_rus:e.target.value}))}(e)},id:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441.)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_eng:e.target.value}))}(e)},id:"description_eng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(se.a,{className:t.textfield,value:i.lang,onChange:function(e){return function(e){l(Object(X.a)({},i,{lang:e.target.value}))}(e)},id:"lang",label:"\u042f\u0437\u044b\u043a"}),r.a.createElement("div",{className:t.textfield2}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return s()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}var Ua=a(416),qa=a(64);qa().format();var $a=Object(W.a)((function(e){return{box:{width:"100%"},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function Ka(e){var t=$a(),a=r.a.useState({url:"",news_date:null,info_agency:"",name_rus:"",name_eng:"",lang:"",description_rus:"",description_eng:"",checked:!1}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(){var e=null;return null!==i.news_date&&(e=[{info_agency:i.info_agency,url:i.url,news_date:qa(i.news_date).format("DDMMYYYYTHHmmss"),name_rus:i.name_rus,name_eng:i.name_eng,lang:i.lang,description_rus:i.description_rus,description_eng:i.description_eng}]),e},c=new FormData;c.append("media_links",JSON.stringify(o()));var s=function(){""!==o()[0].info_agency&&null!==o()[0].news_date&&""!==o()[0].url&&""!==o()[0].name_rus&&""!==o()[0].name_eng&&""!==o()[0].description_rus&&""!==o()[0].description_eng&&""!==o()[0].lang&&function(e,t,a){return qe.apply(this,arguments)}(c,e.login,e.password).then((function(t){console.log(t),e.closeDialog("media_links_list")}))};return r.a.createElement("div",{className:t.box},r.a.createElement(se.a,{className:t.textfield,value:i.url,onChange:function(e){return function(e){l(Object(X.a)({},i,{url:e.target.value}))}(e)},id:"url",label:"URL"}),r.a.createElement(se.a,{className:t.textfield,value:i.info_agency,onChange:function(e){return function(e){l(Object(X.a)({},i,{info_agency:e.target.value}))}(e)},id:"info_agency",label:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"}),r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield},r.a.createElement(Ua.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"news_date",label:"\u0414\u0430\u0442\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",value:i.news_date,onChange:function(e){l(Object(X.a)({},i,{news_date:e}))},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(se.a,{className:t.textfield,value:i.name_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_rus:e.target.value}))}(e)},id:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441.)"}),r.a.createElement(se.a,{className:t.textfield,value:i.name_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_eng:e.target.value}))}(e)},id:"name_eng",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b.)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_rus:e.target.value}))}(e)},id:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441.)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_eng:e.target.value}))}(e)},id:"description_eng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(se.a,{className:t.textfield,value:i.lang,onChange:function(e){return function(e){l(Object(X.a)({},i,{lang:e.target.value}))}(e)},id:"lang",label:"\u042f\u0437\u044b\u043a"}),r.a.createElement("div",{className:t.textfield2}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return s()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}var Xa=a(60),Qa=a.n(Xa),en=a(421),tn=a(64);tn().format();var an=Object(W.a)((function(e){return{box:{width:"100%"},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function nn(e){var t=an(),a=r.a.useState({firstDataGet:!1,damZonesTypes:null,type_id:"",type:"",description_rus:"",description_eng:"",cost_rub:"",start_date:null,end_date:null,area:"",geom:"",JSONFileName:" ",waitingDialog:!1}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=new FormData;o.append("type_id",i.type_id),o.append("type",i.type),o.append("cost_rub",i.cost_rub),o.append("start_date",tn(i.start_date).format("DDMMYYYYTHHmmss")),o.append("end_date",tn(i.end_date).format("DDMMYYYYTHHmmss")),o.append("description_rus",i.description_rus),o.append("description_eng",i.description_eng),o.append("area",i.area),o.append("geom",i.geom);var c=function(){""!==i.type_id&&""!==i.type&&""!==i.description_rus&&""!==i.description_eng&&""!==i.cost_rub&&null!==i.start_date&&null!==i.end_date&&""!==i.area&&""!==i.geom&&(l(Object(X.a)({},i,{waitingDialog:!0})),function(e,t,a){return $e.apply(this,arguments)}(o,e.login,e.password).then((function(t){l(Object(X.a)({},i,{waitingDialog:!1})),e.closeDialog("damaged_zones_list")})))};return 0==i.firstDataGet&&(null==i.damZonesTypes&&function(){return Ie.apply(this,arguments)}().then((function(e){return l(Object(X.a)({},i,{damZonesTypes:e}))})),l(Object(X.a)({},i,{firstDataGet:!0}))),r.a.createElement("div",{className:t.box},r.a.createElement(Nt.a,{className:t.textfield},r.a.createElement(La.a,null,"\u0422\u0438\u043f \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u043e\u0439 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0438"),r.a.createElement(zt.a,{onChange:function(e){return function(e){l(Object(X.a)({},i,{type_id:e.target.value.id,type:e.target.value.type}))}(e)}},function(){var e=[];if(null!==i.damZonesTypes)for(var t=i.damZonesTypes.data.types,a=0;a<t.length;a++)e.push(r.a.createElement(kt.a,{key:a,value:t[a]},t[a].alias_rus));return e}())),r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield},r.a.createElement(en.a,{autoOk:!0,ampm:!1,disableFuture:!0,value:i.start_date,onChange:function(e){l(Object(X.a)({},i,{start_date:e}))},label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430",format:"yyyy/MM/dd HH:mm"}))),r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield},r.a.createElement(en.a,{autoOk:!0,ampm:!1,disableFuture:!0,value:i.end_date,onChange:function(e){l(Object(X.a)({},i,{end_date:e}))},label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",format:"yyyy/MM/dd HH:mm"}))),r.a.createElement(se.a,{className:t.textfield,value:i.cost_rub,onChange:function(e){return function(e){l(Object(X.a)({},i,{cost_rub:e.target.value}))}(e)},type:"number",id:"cost_rub",label:"\u0423\u0449\u0435\u0440\u0431 (\u0440\u0443\u0431)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_rus:e.target.value}))}(e)},id:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_eng:e.target.value}))}(e)},id:"description_eng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(se.a,{className:t.textfield,value:i.area,onChange:function(e){return function(e){l(Object(X.a)({},i,{area:e.target.value}))}(e)},type:"number",id:"area",label:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c (\u043a\u043c)"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){var t;void 0!==(t=e.target.files[0])&&void 0!==i.JSONFileName&&l(Object(X.a)({},i,{JSONFileName:t.name,geom:t}))}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.JSONFileName,label:"\u0413\u0435\u043e\u043c\u0435\u0442\u0440\u0438\u044f .geojson"}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return c()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(D.a,{open:i.waitingDialog,maxWidth:"lg",scroll:"body"},r.a.createElement(S.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{variant:"body2",component:"p"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."))))}var rn=a(402),ln=a(64);ln().format();var on=Object(W.a)((function(e){return{box:{width:"100%"},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function cn(e){var t=on(),a=r.a.useState({name_rus:"",name_eng:"",description_rus:"",description_eng:"",image_for_map:"",image_for_map_extent:'{"\u0428\u0438\u0440\u043e\u0442\u0430 min": 0,"\u0428\u0438\u0440\u043e\u0442\u0430 max": 0,"\u0414\u043e\u043b\u0433\u043e\u0442\u0430 min": 0 ,"\u0414\u043e\u043b\u0433\u043e\u0442\u0430 max": 0}',file:"",legend_file:"",source:"",image_date:null,extent:"",ImageFileName:" ",FileName:" ",LegendFileName:" ",ExtentFileName:" ",waitingDialog:!1}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(){var e=new FormData;return e.append("name_rus",i.name_rus),e.append("name_eng",i.name_eng),e.append("description_rus",i.description_rus),e.append("description_eng",i.description_eng),e.append("image_for_map",i.image_for_map),e.append("image_for_map_extent",JSON.stringify(JSON.parse(function(e){console.log(e);var t=(t=e.replace(/\u0428\u0438\u0440\u043e\u0442\u0430 /g,"x_")).replace(/\u0414\u043e\u043b\u0433\u043e\u0442\u0430 /g,"y_");return console.log(t),t}(i.image_for_map_extent)))),e.append("file",i.file),e.append("legend_file",i.legend_file),e.append("source",i.source),e.append("image_date",ln(i.image_date).format("DDMMYYYYTHHmmss")),e.append("extent",i.extent),e},c=function(){var t=o();""!==i.name_rus&&""!==i.name_eng&&""!==i.description_rus&&""!==i.description_eng&&""!==i.image_for_map&&""!==i.image_for_map_extent&&""!==i.file&&""!==i.legend_file&&""!==i.source&&null!==i.image_date&&""!==i.extent&&(l(Object(X.a)({},i,{waitingDialog:!0})),console.log(o),function(e,t,a){return Ke.apply(this,arguments)}(t,e.login,e.password).then((function(t){l(Object(X.a)({},i,{waitingDialog:!1})),e.closeDialog("raster_data_list")})))};return r.a.createElement("div",{className:t.box},r.a.createElement(se.a,{className:t.textfield,value:i.name_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_rus:e.target.value}))}(e)},id:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.name_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_eng:e.target.value}))}(e)},id:"name_eng",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_rus:e.target.value}))}(e)},id:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_eng:e.target.value}))}(e)},id:"description_eng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield},r.a.createElement(Ua.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"Date",label:"\u0414\u0430\u0442\u0430",value:i.image_date,onChange:function(e){l(Object(X.a)({},i,{image_date:e}))},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{image_for_map:t,ImageFileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.ImageFileName,label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043d\u0430\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"}),r.a.createElement(se.a,{className:t.textfield,value:i.image_for_map_extent,onChange:function(e){return function(e){l(Object(X.a)({},i,{image_for_map_extent:e.target.value}))}(e)},id:"image_for_map_extent",label:"\u041e\u0445\u0432\u0430\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{file:t,FileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.FileName,label:"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0444\u0430\u0439\u043b"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{legend_file:t,LegendFileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.LegendFileName,label:"\u0424\u0430\u0439\u043b \u0441 \u043b\u0435\u0433\u0435\u043d\u0434\u043e\u0439"}),r.a.createElement(se.a,{className:t.textfield,value:i.source,onChange:function(e){return function(e){l(Object(X.a)({},i,{source:e.target.value}))}(e)},id:"source",label:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{extent:t,ExtentFileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.ExtentFileName,label:"\u041e\u0445\u0432\u0430\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f .geojson"}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return c()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(D.a,{open:i.waitingDialog,maxWidth:"lg",scroll:"body"},r.a.createElement(S.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{variant:"body2",component:"p"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."))))}var sn=a(64);sn().format();var un=Object(W.a)((function(e){return{box:{width:"100%"},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function mn(e){var t=un(),a=r.a.useState({name_rus:"",name_eng:"",description_rus:"",description_eng:"",file:"",source:"",vector_date:null,extent:"",geojson_for_map:"",FileName:" ",ExtentFileName:" ",GeojsonFileName:" "}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(){var t=function(){var e=new FormData;return e.append("name_rus",i.name_rus),e.append("name_eng",i.name_eng),e.append("description_rus",i.description_rus),e.append("description_eng",i.description_eng),e.append("file",i.file),e.append("source",i.source),e.append("vector_date",sn(i.vector_date).format("DDMMYYYYTHHmmss")),e.append("geojson_for_map",i.geojson_for_map),e.append("extent",i.extent),e}();""!==i.name_rus&&""!==i.name_eng&&""!==i.description_rus&&""!==i.description_eng&&""!==i.file&&""!==i.geojson_for_map&&""!==i.source&&null!==i.vector_date&&""!==i.extent&&(l(Object(X.a)({},i,{waitingDialog:!0})),function(e,t,a){return Xe.apply(this,arguments)}(t,e.login,e.password).then((function(t){console.log(t),l(Object(X.a)({},i,{waitingDialog:!1})),e.closeDialog("vector_data_list")})))};return r.a.createElement("div",{className:t.box},r.a.createElement(se.a,{className:t.textfield,value:i.name_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_rus:e.target.value}))}(e)},id:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.name_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_eng:e.target.value}))}(e)},id:"name_eng",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_rus:e.target.value}))}(e)},id:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_eng:e.target.value}))}(e)},id:"description_eng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield},r.a.createElement(Ua.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"Date",label:"\u0414\u0430\u0442\u0430",value:i.vector_date,onChange:function(e){l(Object(X.a)({},i,{vector_date:e}))},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{file:t,FileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.FileName,label:"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0444\u0430\u0439\u043b"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{geojson_for_map:t,GeojsonFileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.GeojsonFileName,label:"\u0424\u0430\u0439\u043b .geojson \u0434\u043b\u044f \u043d\u0430\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"}),r.a.createElement(se.a,{className:t.textfield,value:i.source,onChange:function(e){return function(e){l(Object(X.a)({},i,{source:e.target.value}))}(e)},id:"source",label:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{extent:t,ExtentFileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.ExtentFileName,label:"\u041e\u0445\u0432\u0430\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f .geojson"}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return o()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(D.a,{open:i.waitingDialog,maxWidth:"lg",scroll:"body"},r.a.createElement(S.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{variant:"body2",component:"p"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."))))}var dn=a(64);dn().format();var pn=Object(W.a)((function(e){return{box:{width:"100%"},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function fn(e){var t=pn(),a=r.a.useState({description_rus:"",description_eng:"",image_for_map:"",image_for_map_extent:'{"\u0428\u0438\u0440\u043e\u0442\u0430 min": 0,"\u0428\u0438\u0440\u043e\u0442\u0430 max": 0,"\u0414\u043e\u043b\u0433\u043e\u0442\u0430 min": 0 ,"\u0414\u043e\u043b\u0433\u043e\u0442\u0430 max": 0}',file:"",image_date:null,sensor:"",source:"",extent:"",ImageFileName:" ",FileName:" ",ExtentFileName:" ",waitingDialog:!1}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(){var t=function(){var e=new FormData;return e.append("description_rus",i.description_rus),e.append("description_eng",i.description_eng),e.append("image_for_map",i.image_for_map),e.append("image_for_map_extent",JSON.stringify(JSON.parse(i.image_for_map_extent.replace(/\u0428\u0438\u0440\u043e\u0442\u0430 /g,"x_").replace(/\u0414\u043e\u043b\u0433\u043e\u0442\u0430 /g,"y_")))),e.append("file",i.file),e.append("source",i.source),e.append("image_date",dn(i.image_date).format("DDMMYYYYTHHmmss")),e.append("sensor",i.sensor),e.append("extent",i.extent),e}();""!==i.description_rus&&""!==i.description_eng&&""!==i.image_for_map&&""!==i.image_for_map_extent&&""!==i.file&&""!==i.sensor&&""!==i.source&&null!==i.image_date&&(l(Object(X.a)({},i,{waitingDialog:!0})),function(e,t,a){return Qe.apply(this,arguments)}(t,e.login,e.password).then((function(t){l(Object(X.a)({},i,{waitingDialog:!1})),e.closeDialog("remote_sensing_data_list")})))};return r.a.createElement("div",{className:t.box},r.a.createElement(se.a,{className:t.textfield,value:i.description_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_rus:e.target.value}))}(e)},id:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_eng:e.target.value}))}(e)},id:"description_eng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield},r.a.createElement(en.a,{autoOk:!0,ampm:!1,disableFuture:!0,value:i.image_date,onChange:function(e){l(Object(X.a)({},i,{image_date:e}))},label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f",format:"yyyy/MM/dd HH:mm"}))),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{image_for_map:t,ImageFileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.ImageFileName,label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043d\u0430\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"}),r.a.createElement(se.a,{className:t.textfield,value:i.image_for_map_extent,onChange:function(e){return function(e){l(Object(X.a)({},i,{image_for_map_extent:e.target.value}))}(e)},id:"image_for_map_extent",label:"\u041e\u0445\u0432\u0430\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{file:t,FileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.FileName,label:"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0444\u0430\u0439\u043b"}),r.a.createElement(se.a,{className:t.textfield,value:i.sensor,onChange:function(e){return function(e){l(Object(X.a)({},i,{sensor:e.target.value}))}(e)},id:"sensor",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0435\u043d\u0441\u043e\u0440\u0430"}),r.a.createElement(se.a,{className:t.textfield,value:i.source,onChange:function(e){return function(e){l(Object(X.a)({},i,{source:e.target.value}))}(e)},id:"source",label:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{extent:t,ExtentFileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.ExtentFileName,label:"\u041e\u0445\u0432\u0430\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f .geojson"}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return o()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(D.a,{open:i.waitingDialog,maxWidth:"lg",scroll:"body"},r.a.createElement(S.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{variant:"body2",component:"p"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."))))}var gn=Object(W.a)((function(e){return{box:{width:"100%"},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function hn(e){var t=gn(),a=r.a.useState({firstDataGet:!1,types_list:null,name_rus:"",name_eng:"",description_rus:"",description_eng:"",source:"",file:"",type:"",type_id:"",record_localization:"",FileName:" "}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(){var t=function(){var e=new FormData;return e.append("name_rus",i.name_rus),e.append("name_eng",i.name_eng),e.append("description_rus",i.description_rus),e.append("description_eng",i.description_eng),e.append("file",i.file),e.append("source",i.source),e.append("type",i.type),e.append("type_id",i.type_id),e.append("record_localization",i.record_localization),e}();""!==i.name_rus&&""!==i.name_eng&&""!==i.description_rus&&""!==i.description_eng&&""!==i.file&&""!==i.source&&""!==i.type&&""!==i.type_id&&""!==i.record_localization&&(l(Object(X.a)({},i,{waitingDialog:!0})),function(e,t,a){return et.apply(this,arguments)}(t,e.login,e.password).then((function(t){l(Object(X.a)({},i,{waitingDialog:!1})),e.closeDialog("multimedia_records_data_list")})))};return 0==i.firstDataGet&&function(){return Ve.apply(this,arguments)}().then((function(e){return l(Object(X.a)({},i,{types_list:e,firstDataGet:!0}))})),r.a.createElement("div",{className:t.box},r.a.createElement(se.a,{className:t.textfield,value:i.name_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_rus:e.target.value}))}(e)},id:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.name_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_eng:e.target.value}))}(e)},id:"name_eng",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_rus:e.target.value}))}(e)},id:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_eng:e.target.value}))}(e)},id:"description_eng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement("div",{className:t.textfield},r.a.createElement(La.a,null,"\u0422\u0438\u043f \u0444\u0430\u0439\u043b\u0430"),r.a.createElement(zt.a,{style:{width:"100%"},value:i.type_id,onChange:function(e){return function(e){var t=e.target.value;i.types_list.data.types.forEach((function(a){if(t==a.id){var n=a.type;l(Object(X.a)({},i,{type_id:e.target.value,type:n}))}}))}(e)}},function(){var e=[];if(null!=i.types_list)for(var t=i.types_list.data.types,a=0;a<t.length;a++)e.push(r.a.createElement(kt.a,{key:a,value:t[a].id},t[a].alias_rus));return e}())),r.a.createElement(se.a,{className:t.textfield,value:i.source,onChange:function(e){return function(e){l(Object(X.a)({},i,{source:e.target.value}))}(e)},id:"source",label:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a"}),r.a.createElement(se.a,{className:t.textfield,value:i.record_localization_str,onChange:function(e){return function(e){var t=e.target.value;l(Object(X.a)({},i,{record_localization_str:t}));var a=t.split(",");if(void 0!==a[0]&&void 0!==a[1]&&""!==a[0]&&""!==a[1]){var n="POINT("+a[1]+" "+a[0]+")";l(Object(X.a)({},i,{record_localization:n,record_localization_str:t}))}void 0!=a[0]&&void 0!=a[1]&&""!=a[0]&&""!=a[1]||l(Object(X.a)({},i,{record_localization:"",record_localization_str:t}))}(e)},id:"record_localization",label:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b (\u0448\u0438\u0440\u043e\u0442\u0430, \u0434\u043e\u043b\u0433\u043e\u0442\u0430 - \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c - ,)"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{file:t,FileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.FileName,label:"\u0424\u0430\u0439\u043b"}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return o()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(D.a,{open:i.waitingDialog,maxWidth:"lg",scroll:"body"},r.a.createElement(S.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{variant:"body2",component:"p"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."))))}var vn=a(314),_n=a.n(vn),bn=a(312),En=a.n(bn),yn=a(313),On=a.n(yn),wn=a(143),jn=a(64);jn().format();var xn=Object(W.a)((function(e){return{fullwidth:{width:"100%",display:"flex",justifyContent:"center"},textfield:{width:"30%",margin:"3vh 1% 0"},textfield2:{width:"30%",margin:"3vh 1% 0",display:"inline-block"},textfield3:{width:"45%",margin:"3vh 1% 0",display:"inline-block"},textfieldLg:{width:"62%",margin:"3vh 1% 0"},empStr:{width:"100%",height:"5vh"},halfField:{width:"48%",margin:"0 1%",float:"left"},halfField2:{width:"45%",margin:"0 1%",float:"right"},mediumField:{width:"60%",margin:"0 1%",float:"left,"},root:{margin:"3vh 2%",padding:"1%",height:"90vh",maxHeight:"90vh",overflow:"auto"},btn:{background:"#1D8A6B",float:"left"},btn2:{background:"#ff333d",float:"left"}}}));function Dn(e){var t=xn(),a=r.a.useState({place_id:e.placeId,type_id:"",type:"",reason_id:"",reason:"",name_rus:"",description_rus:"",name_eng:"",description_eng:"",cost_rub:"",area_km:"",max_depth:"",mean_depth:"",max_speed:"",mean_speed:"",event_start_date:null,event_end_date:null,common_links:[],media_links:[],observation_stations:[],damaged_zones:[],raster_data:[],vector_data:[],remote_sensing_data:[],multimedia_records_data:[],multimedia_records_data_list:null,remote_sensing_data_list:null,vector_data_list:null,raster_data_list:null,damaged_zones_list:null,stations_list:null,media_links_list:null,common_links_list:null,types_list:null,reasons_list:null,firstDataGet:!1,dialog_box_value:null,eventPushResponse:null,waitingDialogOpen:!1,fieldsFilled:!0}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=new FormData;o.append("event_id",i.event_id),o.append("place_id",i.place_id),o.append("type_id",i.type_id),o.append("type",i.type),o.append("reason_id",i.reason_id),o.append("reason",i.reason),o.append("name_rus",i.name_rus),o.append("name_rus",i.name_rus),o.append("description_rus",i.description_rus),o.append("name_eng",i.name_eng),o.append("description_eng",i.description_eng),o.append("cost_rub",i.cost_rub),o.append("area_km",i.area_km),o.append("max_depth",i.max_depth),o.append("mean_depth",i.mean_depth),o.append("max_speed",i.max_speed),o.append("mean_speed",i.mean_speed),o.append("event_start_date",jn(i.event_start_date).format("DDMMYYYYTHHmmss")),o.append("event_end_date",jn(i.event_end_date).format("DDMMYYYYTHHmmss")),o.append("common_links",JSON.stringify(i.common_links.map((function(e){return e.id})))),o.append("media_links",JSON.stringify(i.media_links.map((function(e){return e.id})))),o.append("observation_stations",JSON.stringify(i.observation_stations.map((function(e){return e.id})))),o.append("damaged_zones",JSON.stringify(i.damaged_zones.map((function(e){return e.id})))),o.append("misc_raster_data",JSON.stringify(i.raster_data.map((function(e){return e.id})))),o.append("misc_vector_data",JSON.stringify(i.vector_data.map((function(e){return e.id})))),o.append("remote_sensing_data",JSON.stringify(i.remote_sensing_data.map((function(e){return e.id})))),o.append("multimedia_records",JSON.stringify(i.multimedia_records_data.map((function(e){return e.id}))));var c=function(){void 0!==i.place_id&&""!==i.type_id&&""!==i.type&&""!==i.reason_id&&""!==i.reason&&""!==i.name_rus&&""!==i.description_rus&&""!==i.name_eng&&""!==i.description_eng&&""!==i.cost_rub&&""!==i.area_km&&""!==i.max_depth&&""!==i.mean_depth&&""!==i.max_speed&&""!==i.mean_speed&&null!==i.event_start_date&&null!==i.event_end_date&&i.observation_stations!==[]?(l(Object(X.a)({},i,{waitingDialogOpen:!0})),"new"==e.mode&&function(e,t,a){return Je.apply(this,arguments)}(o,e.login,e.password).then((function(e){console.log(e),l(Object(X.a)({},i,{eventPushResponse:e,waitingDialogOpen:!0}))})),"old"==e.mode&&function(e,t,a){return Ze.apply(this,arguments)}(o,e.login,e.password).then((function(e){return l(Object(X.a)({},i,{eventPushResponse:e,waitingDialogOpen:!0}))}))):l(Object(X.a)({},i,{fieldsFilled:!1}))};if(0==i.firstDataGet){if("old"==e.mode){console.log(e.eventId);var s={},u=e.placeId;console.log(u),ye().then((function(e){return s.types_list=e})).then(we().then((function(e){return s.reasons_list=e})).then(xe().then((function(e){return s.common_links_list=e})).then(Ce().then((function(e){return s.media_links_list=e})).then(ke().then((function(e){return s.stations_list=e})).then(ze().then((function(e){return s.damaged_zones_list=e})).then(Te().then((function(e){return s.raster_data_list=e})).then(Le().then((function(e){return s.vector_data_list=e})).then(Be().then((function(e){return s.remote_sensing_data_list=e})).then(Fe().then((function(e){return s.multimedia_records_data_list=e})).then(ve(e.eventId).then((function(e){console.log(e),s.event_info=e})).then((function(e){console.log(s),l(Object(X.a)({},i,{firstDataGet:!0,types_list:s.types_list,reasons_list:s.reasons_list,common_links_list:s.common_links_list,media_links_list:s.media_links_list,stations_list:s.stations_list,damaged_zones_list:s.damaged_zones_list,raster_data_list:s.raster_data_list,vector_data_list:s.vector_data_list,remote_sensing_data_list:s.remote_sensing_data_list,multimedia_records_data_list:s.multimedia_records_data_list,event_id:s.event_info.data.events[0].id,name_rus:s.event_info.data.events[0].name_rus,name_eng:s.event_info.data.events[0].name_eng,place_id:u,type_id:s.event_info.data.events[0].type_id,type:s.event_info.data.events[0].type,reason_id:s.event_info.data.events[0].reason_id,reason:s.event_info.data.events[0].reason,cost_rub:s.event_info.data.events[0].cost_rub,area_km:s.event_info.data.events[0].area_km,max_depth:s.event_info.data.events[0].max_depth,mean_depth:s.event_info.data.events[0].mean_depth,max_speed:s.event_info.data.events[0].max_speed,mean_speed:s.event_info.data.events[0].mean_speed,event_start_date:jn(s.event_info.data.events[0].event_start_date,"DDMMYYYYTHHmmss").format("YYYY/MM/DD HH:mm"),event_end_date:jn(s.event_info.data.events[0].event_end_date,"DDMMYYYYTHHmmss").format("YYYY/MM/DD HH:mm"),observation_stations:s.event_info.data.events[0].observation_stations,common_links:s.event_info.data.events[0].common_links,media_links:s.event_info.data.events[0].media_links,damaged_zones:s.event_info.data.events[0].damaged_zones,raster_data:s.event_info.data.events[0].misc_raster_data,vector_data:s.event_info.data.events[0].misc_vector_data,remote_sensing_data:s.event_info.data.events[0].remote_sensing_data,multimedia_records_data:s.event_info.data.events[0].multimedia_records,description_eng:s.event_info.data.events[0].description_eng,description_rus:s.event_info.data.events[0].description_rus}))})).then(console.log(i))))))))))))}if("new"==e.mode){var m=[];ye().then((function(e){return m.push(e)})).then(we().then((function(e){return m.push(e)})).then(xe().then((function(e){return m.push(e)})).then(Ce().then((function(e){return m.push(e)})).then(ke().then((function(e){return m.push(e)})).then(ze().then((function(e){return m.push(e)})).then(Te().then((function(e){return m.push(e)})).then(Le().then((function(e){return m.push(e)})).then(Be().then((function(e){return m.push(e)})).then(Fe().then((function(e){return m.push(e)})).then((function(e){return l(Object(X.a)({},i,{firstDataGet:!0,types_list:m[0],reasons_list:m[1],common_links_list:m[2],media_links_list:m[3],stations_list:m[4],damaged_zones_list:m[5],raster_data_list:m[6],vector_data_list:m[7],remote_sensing_data_list:m[8],multimedia_records_data_list:m[9]}))})).then(console.log(i)))))))))))}}var d=function(e){"common_links_list"==e&&xe().then((function(e){return l(Object(X.a)({},i,{common_links_list:e,openDialog:!1}))})),"media_links_list"==e&&Ce().then((function(e){return l(Object(X.a)({},i,{media_links_list:e,openDialog:!1}))})),"damaged_zones_list"==e&&ze().then((function(e){return l(Object(X.a)({},i,{damaged_zones_list:e,openDialog:!1}))})),"raster_data_list"==e&&Te().then((function(e){return l(Object(X.a)({},i,{raster_data_list:e,openDialog:!1}))})),"vector_data_list"==e&&Le().then((function(e){return l(Object(X.a)({},i,{vector_data_list:e,openDialog:!1}))})),"remote_sensing_data_list"==e&&Be().then((function(e){return l(Object(X.a)({},i,{remote_sensing_data_list:e,openDialog:!1}))})),"multimedia_records_data_list"==e?Fe().then((function(e){return l(Object(X.a)({},i,{multimedia_records_data_list:e,openDialog:!1}))})):l(Object(X.a)({},i,{openDialog:!1}))};return r.a.createElement(Tt.a,{className:t.root},r.a.createElement(B.a,{style:{width:"70%",float:"left"},align:"center",gutterBottom:!0},"\u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043d\u043e\u0432\u043e\u043c \u0441\u043e\u0431\u044b\u043b\u0438\u0438, \u0432 \u043f\u0443\u043d\u043a\u0442\u0435 ",e.placeName," \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 (*) \u043f\u043e\u043b\u044f"),r.a.createElement(x.a,{variant:"outlined",size:"small",onClick:function(){return e.setNullChoise()},style:{width:"20%",float:"right"}},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f "),r.a.createElement("div",{className:t.empStr}),r.a.createElement("form",{className:"uploader",encType:"multipart/form-data"},r.a.createElement(se.a,{className:t.textfield,id:"name_rus",onChange:function(e){return function(e){l(Object(X.a)({},i,{name_rus:e.target.value}))}(e)},value:i.name_rus,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f (\u0440\u0443\u0441.)*"}),r.a.createElement(se.a,{className:t.textfieldLg,id:"description_rus",onChange:function(e){return function(e){l(Object(X.a)({},i,{description_rus:e.target.value}))}(e)},value:i.description_rus,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f (\u0440\u0443\u0441.)*"}),r.a.createElement(se.a,{className:t.textfield,id:"name_eng",onChange:function(e){return function(e){l(Object(X.a)({},i,{name_eng:e.target.value}))}(e)},value:i.name_eng,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f (\u0430\u043d\u0433\u043b.)*"}),r.a.createElement(se.a,{className:t.textfieldLg,id:"description_eng",onChange:function(e){return function(e){l(Object(X.a)({},i,{description_eng:e.target.value}))}(e)},value:i.description_eng,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f (\u0430\u043d\u0433\u043b.)*"}),r.a.createElement("div",{className:t.empStr}),r.a.createElement(Va.a,null),r.a.createElement("div",{className:t.textfield2},r.a.createElement(La.a,null,"\u0422\u0438\u043f \u0441\u043e\u0431\u044b\u0442\u0438\u044f*"),r.a.createElement(zt.a,{style:{width:"100%"},value:i.type_id,onChange:function(e){return function(e){var t=e.target.value;i.types_list.data.types.forEach((function(a){if(t==a.id){var n=a.type;l(Object(X.a)({},i,{type_id:e.target.value,type:n}))}}))}(e)}},function(){var e=[];if(null!=i.types_list&&void 0!==i.types_list)for(var t=i.types_list.data.types,a=0;a<t.length;a++)e.push(r.a.createElement(kt.a,{key:a,value:t[a].id},t[a].alias_rus));return e}()),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},'\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435, \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0422\u0438\u043f\u044b/\u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u0439" \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b')),r.a.createElement("div",{className:t.textfield2},r.a.createElement(La.a,null,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f*"),r.a.createElement(zt.a,{style:{width:"100%"},value:i.reason_id,onChange:function(e){return function(e){var t=e.target.value;i.reasons_list.data.reasons.forEach((function(a){if(t==a.id){var n=a.reason;l(Object(X.a)({},i,{reason_id:e.target.value,reason:n}))}}))}(e)}},function(){var e=[];if(null!=i.reasons_list&&void 0!==i.reasons_list)for(var t=i.reasons_list.data.reasons,a=0;a<t.length;a++)e.push(r.a.createElement(kt.a,{key:a,value:t[a].id},t[a].alias_rus));return e}()),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},'\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0439 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435, \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0422\u0438\u043f\u044b/\u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u0439" \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b')),r.a.createElement("div",{className:t.textfield}),r.a.createElement(Va.a,null),r.a.createElement(se.a,{className:t.textfield,id:"cost_rub",onChange:function(e){return function(e){l(Object(X.a)({},i,{cost_rub:e.target.value}))}(e)},value:i.cost_rub,label:"\u0423\u0449\u0435\u0440\u0431 (\u0440\u0443\u0431.)*",type:"number"}),r.a.createElement(se.a,{className:t.textfield,id:"area_km",onChange:function(e){return function(e){l(Object(X.a)({},i,{area_km:e.target.value}))}(e)},value:i.area_km,label:"\u0417\u0430\u0442\u0440\u043e\u043d\u0443\u0442\u0430\u044f \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u044f (\u043a\u043c)*",type:"number"}),r.a.createElement(se.a,{className:t.textfield,id:"max_speed",onChange:function(e){return function(e){l(Object(X.a)({},i,{max_speed:e.target.value}))}(e)},value:i.max_speed,label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c*",type:"number"}),r.a.createElement(se.a,{className:t.textfield,id:"mean_speed",onChange:function(e){return function(e){l(Object(X.a)({},i,{mean_speed:e.target.value}))}(e)},value:i.mean_speed,label:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c*",type:"number"}),r.a.createElement(se.a,{className:t.textfield,id:"max_depth",onChange:function(e){return function(e){l(Object(X.a)({},i,{max_depth:e.target.value}))}(e)},value:i.max_depth,label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0433\u043b\u0443\u0431\u0438\u043d\u0430*",type:"number"}),r.a.createElement(se.a,{className:t.textfield,id:"mean_depth",onChange:function(e){return function(e){l(Object(X.a)({},i,{mean_depth:e.target.value}))}(e)},value:i.mean_depth,label:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0433\u043b\u0443\u0431\u0438\u043d\u0430*",type:"number"}),r.a.createElement("div",{className:t.textfield}),r.a.createElement("div",{className:t.empStr}),r.a.createElement(Va.a,null),r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield2},r.a.createElement(en.a,{autoOk:!0,ampm:!1,disableFuture:!0,value:i.event_start_date,onChange:function(e){l(Object(X.a)({},i,{event_start_date:e}))},label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f*",format:"yyyy/MM/dd HH:mm"}))),r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield2},r.a.createElement(en.a,{autoOk:!0,ampm:!1,disableFuture:!0,value:i.event_end_date,onChange:function(e){l(Object(X.a)({},i,{event_end_date:e}))},label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f*",format:"yyyy/MM/dd HH:mm"}))),r.a.createElement("div",{className:t.empStr}),r.a.createElement(Va.a,null),function(){if(null!==i.stations_list&&void 0!==i.stations_list)return r.a.createElement("div",{className:t.textfield3},r.a.createElement(B.a,{align:"center",gutterBottom:!0},"\u0421\u0442\u0430\u043d\u0446\u0438\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u0432\u0431\u043b\u0438\u0437\u0438 \u043c\u0435\u0441\u0442a*"),r.a.createElement(ce.a,{defaultValue:i.observation_stations,multiple:!0,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.stations_list.data.stations,getOptionLabel:function(e){return e.id.toString()},onChange:function(e,t){return function(e,t){l(Object(X.a)({},i,{observation_stations:t})),console.log(i)}(0,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"Id \u0441\u0442\u0430\u043d\u0446\u0438\u0438",variant:"standard",fullWidth:!0}))}}),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},'\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0430\u043d\u0446\u0438\u0439 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0421\u0442\u0430\u043d\u0446\u0438\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f" \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b'))}(),r.a.createElement("div",{className:t.empStr}),r.a.createElement(Va.a,null),function(){if(null!==i.common_links_list&&void 0!==i.common_links_list)return r.a.createElement("div",{className:t.textfield3},r.a.createElement(B.a,{align:"center",gutterBottom:!0},"\u0412\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438:"),r.a.createElement(ce.a,{defaultValue:i.common_links,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.common_links_list.data.common_links,getOptionLabel:function(e){return e.name_rus},multiple:!0,autoHighlight:!0,onChange:function(e,t){return function(e,t){l(Object(X.a)({},i,{common_links:t})),console.log(i)}(0,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{variant:"standard",fullWidth:!0}))}}),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},"\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u0435, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432 \u0444\u043e\u0440\u043c\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{openDialog:!0,dialog_box_value:"common_links"}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}(),function(){if(null!==i.media_links_list&&void 0!==i.media_links_list)return r.a.createElement("div",{className:t.textfield3},r.a.createElement(B.a,{align:"center",gutterBottom:!0},"\u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0438:"),r.a.createElement(ce.a,{defaultValue:i.media_links,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.media_links_list.data.media_links,getOptionLabel:function(e){return e.name_rus},multiple:!0,autoHighlight:!0,onChange:function(e,t){return function(e,t){l(Object(X.a)({},i,{media_links:t})),console.log(i)}(0,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{variant:"standard",fullWidth:!0}))}}),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},"\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u0435, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432 \u0444\u043e\u0440\u043c\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{openDialog:!0,dialog_box_value:"media_links"}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}(),r.a.createElement(D.a,{open:i.openDialog,onClose:function(){return d("empty")}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435")),r.a.createElement(C.a,null,"common_links"==i.dialog_box_value?r.a.createElement(Za,{login:e.login,password:e.password,closeDialog:function(e){return d(e)}}):"media_links"==i.dialog_box_value?r.a.createElement(Ka,{login:e.login,password:e.password,closeDialog:function(e){return d(e)}}):"damaged_zones"==i.dialog_box_value?r.a.createElement(nn,{login:e.login,password:e.password,closeDialog:function(e){return d(e)}}):"raster_data"==i.dialog_box_value?r.a.createElement(cn,{login:e.login,password:e.password,closeDialog:function(e){return d(e)}}):"vector_data"==i.dialog_box_value?r.a.createElement(mn,{login:e.login,password:e.password,closeDialog:function(e){return d(e)}}):"remote_sensing_data"==i.dialog_box_value?r.a.createElement(fn,{login:e.login,password:e.password,closeDialog:function(e){return d(e)}}):"multimedia_records_data"==i.dialog_box_value?r.a.createElement(hn,{login:e.login,password:e.password,closeDialog:function(e){return d(e)}}):void 0)),r.a.createElement("div",{className:t.empStr}),r.a.createElement(Va.a,null),function(){if(null!==i.damaged_zones_list&&void 0!==i.damaged_zones_list)return r.a.createElement("div",{className:t.textfield3},r.a.createElement(B.a,{align:"center",gutterBottom:!0},"\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0438:"),r.a.createElement(ce.a,{defaultValue:i.damaged_zones,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.damaged_zones_list.data.damaged_zones,getOptionLabel:function(e){return e.description_rus},multiple:!0,autoHighlight:!0,onChange:function(e,t){return function(e,t){l(Object(X.a)({},i,{damaged_zones:t})),console.log(i)}(0,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u043e\u043d\u044b",variant:"standard",fullWidth:!0}))}}),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},"\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0439 \u0437\u043e\u043d\u044b \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u0435, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432 \u0444\u043e\u0440\u043c\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{openDialog:!0,dialog_box_value:"damaged_zones"}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}(),function(){if(null!==i.raster_data_list&&void 0!==i.raster_data_list)return r.a.createElement("div",{className:t.textfield3},r.a.createElement(B.a,{align:"center",gutterBottom:!0},"\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:"),r.a.createElement(ce.a,{defaultValue:i.raster_data,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.raster_data_list.data.misc_raster_data,getOptionLabel:function(e){return e.name_rus},multiple:!0,autoHighlight:!0,onChange:function(e,t){return function(e,t){l(Object(X.a)({},i,{raster_data:t})),console.log(i)}(0,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",variant:"standard",fullWidth:!0}))}}),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},"\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432 \u0444\u043e\u0440\u043c\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{openDialog:!0,dialog_box_value:"raster_data"}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}(),r.a.createElement("div",{className:t.empStr}),r.a.createElement(Va.a,null),function(){if(null!==i.vector_data_list&&void 0!==i.vector_data_list)return r.a.createElement("div",{className:t.textfield3},r.a.createElement(B.a,{align:"center",gutterBottom:!0},"\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:"),r.a.createElement(ce.a,{defaultValue:i.vector_data,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.vector_data_list.data.misc_vector_data,getOptionLabel:function(e){return e.name_rus},multiple:!0,autoHighlight:!0,onChange:function(e,t){return function(e,t){l(Object(X.a)({},i,{vector_data:t})),console.log(i)}(0,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u043e\u0433\u043e \u0441\u043b\u043e\u044f",variant:"standard",fullWidth:!0}))}}),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},"\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u043e\u0433\u043e \u0441\u043b\u043e\u044f \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432 \u0444\u043e\u0440\u043c\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{openDialog:!0,dialog_box_value:"vector_data"}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}(),function(){if(null!==i.remote_sensing_data_list&&void 0!==i.remote_sensing_data_list)return r.a.createElement("div",{className:t.textfield3},r.a.createElement(B.a,{align:"center",gutterBottom:!0},"\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u043e\u043d\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:"),r.a.createElement(ce.a,{defaultValue:i.remote_sensing_data,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.remote_sensing_data_list.data.remote_sensing_data,getOptionLabel:function(e){return e.description_rus},multiple:!0,autoHighlight:!0,onChange:function(e,t){return function(e,t){l(Object(X.a)({},i,{remote_sensing_data:t})),console.log(i)}(0,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043d\u0438\u043c\u043a\u0430",variant:"standard",fullWidth:!0}))}}),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},"\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0441\u043d\u0438\u043c\u043a\u0430 \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432 \u0444\u043e\u0440\u043c\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{openDialog:!0,dialog_box_value:"remote_sensing_data"}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}(),r.a.createElement("div",{className:t.empStr}),r.a.createElement(Va.a,null),function(){if(null!==i.multimedia_records_data_list&&void 0!==i.multimedia_records_data_list)return r.a.createElement("div",{className:t.textfield3},r.a.createElement(B.a,{align:"center",gutterBottom:!0},"\u041c\u0443\u043b\u044c\u0442\u0438\u043c\u0435\u0434\u0438\u0439\u043d\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b:"),r.a.createElement(ce.a,{defaultValue:i.multimedia_records_data,noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.multimedia_records_data_list.data.multimedia_records,getOptionLabel:function(e){return e.name_rus},multiple:!0,autoHighlight:!0,onChange:function(e,t){return function(e,t){l(Object(X.a)({},i,{multimedia_records_data:t})),console.log(i)}(0,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430",variant:"standard",fullWidth:!0}))}}),r.a.createElement(B.a,{align:"center",style:{color:"#999999",fontSize:"small"},gutterBottom:!0},"\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432 \u0444\u043e\u0440\u043c\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{openDialog:!0,dialog_box_value:"multimedia_records_data"}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}(),r.a.createElement("div",{className:t.empStr}),function(){if(0==i.fieldsFilled)return console.log(i),r.a.createElement(B.a,{color:"error",align:"center",gutterBottom:!0},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f! (\u041f\u043e\u043c\u0435\u0447\u0435\u043d\u044b*)")}(),r.a.createElement("div",{className:t.fullwidth},r.a.createElement(x.a,{variant:"contained",color:"secondary",size:"large",endIcon:r.a.createElement(_n.a,null),onClick:function(){return c()}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443"),r.a.createElement(D.a,{open:i.waitingDialogOpen},function(){if(null==i.eventPushResponse)return r.a.createElement(S.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0418\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430..."));if(null!==i.eventPushResponse){if("ok"==i.eventPushResponse.status)return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(En.a,{style:{color:F.a[500],fontSize:40}})),r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b!")),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){return l(Object(X.a)({},i,{waitingDialogOpen:!1}))}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")));if("ok"!==i.eventPushResponse.status)return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(On.a,{style:{color:wn.a[500],fontSize:40}})),r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445!"),r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"Log: ",i.eventPushResponse.comment)),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){return l(Object(X.a)({},i,{waitingDialogOpen:!1}))}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))}}()))))}var Cn=Object(W.a)((function(e){return{root:{margin:"3vh 2%",padding:"1%",height:"90vh",maxHeight:"90vh",overflow:"auto",width:"94%"},table1:{width:"100%",overflow:"auto"}}})),Sn=[{name:"id",label:"ID",options:{filter:!1}},{name:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",options:{filter:!0}},{name:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",options:{filter:!1}},{name:"point_geom",label:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b",options:{filter:!1}}];function kn(e){Cn();var t=r.a.useState({placesData:null,firstDataGet:!1,condition:"waiting"}),a=Object(Q.a)(t,2),n=a[0],i=a[1],l={filterType:"dropdown",download:!1,print:!1,search:!0,responsive:"scrollMaxHeight",selectableRowsHeader:!1,selectableRows:"none",pagination:!1,onRowClick:function(t){return function(t){var a=t[1],n=t[0];"old"==e.mode?(console.log("++++++++++=++++++++++"),e.setPlaceForOldEvent(a,n)):e.setPlaceForEvent(a,n)}(t)},textLabels:{body:{noMatch:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}},fixedHeader:!0};return 0==n.firstDataGet&&(null==n.placesData&&(i(Object(X.a)({},n,{condition:"waiting"})),function(){return Ee.apply(this,arguments)}().then((function(e){return i(Object(X.a)({},n,{placesData:e,condition:"table"}))}))),i(Object(X.a)({},n,{firstDataGet:!0}))),"table"==n.condition?r.a.createElement(M.a,null,r.a.createElement(N.a,{title:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043c\u0435\u0441\u0442\u0430",data:function(){if(null!==n.placesData){var e=[];return n.placesData.data.places.map((function(t){e.push(t)})),console.log(e),e}}(),columns:Sn,options:l})):"waiting"==n.condition?r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445...")):void 0}var Nn=Object(W.a)((function(e){return{box:{width:"100%"},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function zn(e){var t=Nn(),a=r.a.useState({name_rus:"",name_eng:"",description_rus:"",description_eng:"",point_geom:"",polygon_geom:"",FileName:" ",point_geom_str:""}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(){var t=function(){var e=new FormData;return e.append("name_rus",i.name_rus),e.append("name_eng",i.name_eng),e.append("description_rus",i.description_rus),e.append("description_eng",i.description_eng),e.append("point_geom",i.point_geom),e.append("polygon_geom",i.polygon_geom),e}();console.log(t),""!==i.name_rus&&""!==i.name_eng&&""!==i.description_rus&&""!==i.description_eng&&""!==i.point_geom&&""!==i.polygon_geom&&function(e,t,a){return tt.apply(this,arguments)}(t,e.login,e.password).then((function(t){console.log(t),e.closeAddPlaceDialog()}))};return r.a.createElement("div",{className:t.box},r.a.createElement(se.a,{className:t.textfield,value:i.name_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_rus:e.target.value}))}(e)},id:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.name_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{name_eng:e.target.value}))}(e)},id:"name_eng",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_rus,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_rus:e.target.value}))}(e)},id:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441)"}),r.a.createElement(se.a,{className:t.textfield,value:i.description_eng,onChange:function(e){return function(e){l(Object(X.a)({},i,{description_eng:e.target.value}))}(e)},id:"description_eng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)"}),r.a.createElement(se.a,{className:t.textfield,value:i.point_geom_str,onChange:function(e){return function(e){var t=e.target.value;l(Object(X.a)({},i,{point_geom_str:t}));var a=t.split(",");if(console.log(a),void 0!==a[0]&&void 0!==a[1]&&""!==a[0]&&""!==a[1]){var n="POINT("+a[1]+" "+a[0]+")";console.log(n),l(Object(X.a)({},i,{point_geom:n,point_geom_str:t}))}void 0!=a[0]&&void 0!=a[1]&&""!=a[0]&&""!=a[1]||l(Object(X.a)({},i,{point_geom:"",point_geom_str:t}))}(e)},id:"point_geom",label:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b (\u0448\u0438\u0440\u043e\u0442\u0430, \u0434\u043e\u043b\u0433\u043e\u0442\u0430 - \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c - ,)"}),r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"30%",margin:"1% 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return t=e.target.files[0],void l(Object(X.a)({},i,{polygon_geom:t,FileName:t.name}));var t}})),r.a.createElement(se.a,{style:{width:"68%",margin:"0 0 0 2%"},value:i.FileName,label:"\u041f\u043e\u043b\u0438\u0433\u043e\u043d \u043c\u0435\u0441\u0442\u0430 .geojson"}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return o()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}var Mn=Object(W.a)((function(e){return{root:{margin:"3vh 2%",padding:"1%",height:"90vh",maxHeight:"90vh",overflow:"auto",width:"94%"},table1:{width:"100%",overflow:"auto"}}})),In=[{name:"id",label:"ID",options:{filter:!1}},{name:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",options:{filter:!1}},{name:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",options:{filter:!1}},{name:"reason",label:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430",options:{filter:!0}},{name:"type",label:"\u0422\u0438\u043f",options:{filter:!1}},{name:"cost_rub",label:"\u0423\u0449\u0435\u0440\u0431(\u0440\u0443\u0431.)",options:{filter:!1}},{name:"area_km",label:"\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u0430\u044f \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u044f, \u043a\u043c",options:{filter:!1}}];function Tn(e){Mn();var t=r.a.useState({eventsData:null,firstDataGet:!1,condition:"waiting"}),a=Object(Q.a)(t,2),n=a[0],i=a[1],l={filterType:"dropdown",download:!1,print:!1,search:!0,responsive:"scrollMaxHeight",selectableRowsHeader:!1,selectableRows:"none",pagination:!1,onRowClick:function(t){return function(t){var a=t[1],n=t[0];e.setIdForOldEvent(a,n)}(t)},textLabels:{body:{noMatch:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}},fixedHeader:!0};return 0==n.firstDataGet&&(null==n.eventsData&&(console.log(e.placeId),i(Object(X.a)({},n,{condition:"waiting"})),function(e){return be.apply(this,arguments)}(e.placeId).then((function(e){return i(Object(X.a)({},n,{eventsData:e,condition:"table"}))}))),i(Object(X.a)({},n,{firstDataGet:!0}))),"table"==n.condition?r.a.createElement(M.a,null,r.a.createElement(N.a,{title:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f",data:function(){if(null!==n.eventsData&&void 0!==n.eventsData){var e=[];return n.eventsData.data.events.map((function(t){e.push(t)})),e}}(),columns:In,options:l})):"waiting"==n.condition?r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30% 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445...")):void 0}function Hn(e){var t=r.a.useState({open:!1,placeDialog:!1,placeName:null,mode:"new",eventDialog:!1,addPlaceDialog:!1}),a=Object(Q.a)(t,2),n=a[0],i=a[1],l=function(){i(Object(X.a)({},n,{addPlaceDialog:!1,placeDialog:!1}))};return r.a.createElement("div",null,r.a.createElement(x.a,{color:"secondary",variant:"outlined",size:"small",onClick:function(){i(Object(X.a)({},n,{open:!0}))}},"\u0421\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement(D.a,{open:n.open,onClose:function(){i(Object(X.a)({},n,{open:!1}))}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435:")),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){i(Object(X.a)({},n,{mode:"new",placeDialog:!0}))},color:"primary",autoFocus:!0},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435"),r.a.createElement(D.a,{open:n.placeDialog,onClose:function(){i(Object(X.a)({},n,{placeDialog:!1}))}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b"),r.a.createElement(kn,{setPlaceForEvent:function(t,a){return e.setPlaceForEvent(t,a)},setPlaceForOldEvent:function(t,a){return function(t,a){console.log(a),e.setPlaceForOldEvent(t,a),i(Object(X.a)({},n,{eventDialog:!0}))}(t,a)},mode:n.mode})),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){return i(Object(X.a)({},n,{addPlaceDialog:!0}))},color:"primary",autoFocus:!0},"\u041c\u0435\u0441\u0442\u0430 \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 - \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c"))),r.a.createElement(D.a,{open:n.addPlaceDialog,onClose:function(){return l()}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043c\u0435\u0441\u0442\u0435"),r.a.createElement(zn,{login:e.login,password:e.password,closeAddPlaceDialog:function(){return l()}}))),r.a.createElement(D.a,{open:n.eventDialog,fullWidth:!0,maxWidth:"lg",onClose:function(){i(Object(X.a)({},n,{eventDialog:!1}))}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b"),r.a.createElement(Tn,{setIdForOldEvent:function(t,a){return e.setIdForOldEvent(t,a)},placeId:e.placeId}))),r.a.createElement(x.a,{onClick:function(){return i(Object(X.a)({},n,{mode:"old",placeDialog:!0})),void console.log(n)},color:"primary"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"))))}var Ln=a(287),Yn=a(288),Bn=a(289),Pn=a(291),Fn=a(290),Rn=Object(W.a)((function(e){return{box:{},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function Vn(e){var t=Rn(),a=r.a.useState({descEng:null,descRus:null,nameEng:null,nameRus:null,reason:null}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=[{description_eng:i.descEng,description_rus:i.descRus,alias_eng:i.nameEng,alias_rus:i.nameRus,reason:i.reason}];return r.a.createElement("div",{className:t.box},r.a.createElement(se.a,{className:t.textfield,value:i.nameRus,id:"nameRus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){l(Object(X.a)({},i,{nameRus:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.nameEng,id:"nameEng",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){l(Object(X.a)({},i,{nameEng:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.descRus,id:"descRus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){l(Object(X.a)({},i,{descRus:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.descEng,id:"descEng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){l(Object(X.a)({},i,{descEng:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.reason,id:"reason",label:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430",onChange:function(e){return function(e){l(Object(X.a)({},i,{reason:e.target.value}))}(e)}}),r.a.createElement("div",{style:{height:"5vh"}}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return e.addNewReason(o)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}var An=Object(W.a)((function(e){return{box:{},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function Gn(e){var t=An(),a=r.a.useState({descEng:null,descRus:null,nameEng:null,nameRus:null,type:null,leafletSt:'{"color": "#ff7800", "opacity": 0.65}'}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=[{description_eng:i.descEng,description_rus:i.descRus,alias_eng:i.nameEng,alias_rus:i.nameRus,type:i.type,leaflet_style:JSON.stringify(JSON.parse(i.leafletSt))}];return r.a.createElement("div",{className:t.box},r.a.createElement(se.a,{className:t.textfield,value:i.nameRus,id:"nameRus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){l(Object(X.a)({},i,{nameRus:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.nameEng,id:"nameEng",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){l(Object(X.a)({},i,{nameEng:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.descRus,id:"descRus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){l(Object(X.a)({},i,{descRus:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.descEng,id:"descEng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){l(Object(X.a)({},i,{descEng:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.type,id:"type",label:"\u0422\u0438\u043f",onChange:function(e){return function(e){l(Object(X.a)({},i,{type:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.leafletSt,id:"nameRus",label:"Leaflet-style",onChange:function(e){return function(e){l(Object(X.a)({},i,{leafletSt:e.target.value}))}(e)}}),r.a.createElement("div",{style:{height:"5vh"}}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return e.addNewType(o)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}var Wn=Object(W.a)((function(e){return{root:{margin:"3vh 2%",padding:"1%",height:"90vh",maxHeight:"90vh",overflow:"auto",width:"94%"},table1:{width:"45%",float:"left",overflow:"auto"},table2:{width:"50%",maxWidth:"50%",float:"right",overflow:"auto"}}}));function Jn(e){var t=Wn(),a=r.a.useState({typesData:null,reasonsData:null,firstDataGet:!1,reasonState:!1,typeState:!1}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(t){if(null!=t[0].description_eng&&null!=t[0].description_rus&&null!=t[0].alias_eng&&null!=t[0].alias_rus&&null!=t[0].reason){var a=new FormData;a.append("events_reasons",JSON.stringify(t)),function(e,t,a){return at.apply(this,arguments)}(a,e.login,e.password).then((function(e){console.log(e),we().then((function(e){console.log(e),l(Object(X.a)({},i,{reasonState:!1,reasonsData:e}))}))}))}},c=function(t){if(null!=t[0].description_eng&&null!=t[0].description_rus&&null!=t[0].alias_eng&&null!=t[0].alias_rus&&null!=t[0].leaflet_style&&null!=t[0].type){var a=new FormData;a.append("events_types",JSON.stringify(t)),function(e,t,a){return nt.apply(this,arguments)}(a,e.login,e.password).then((function(e){console.log(e),ye().then((function(e){return l(Object(X.a)({},i,{typeState:!1,typesData:e}))}))}))}};if(0==i.firstDataGet){var s=[];we().then((function(e){return s.push(e)})).then(ye().then((function(e){return s.push(e)})).then((function(e){return l(Object(X.a)({},i,{typesData:s[1],reasonsData:s[0],firstDataGet:!0}))})))}return r.a.createElement(Tt.a,{className:t.root},r.a.createElement(B.a,{style:{margin:"0 0 0 40%",float:"left"},align:"center",gutterBottom:!0},"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0438\u043f \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement(x.a,{variant:"outlined",size:"small",onClick:function(){return e.setNullChoise()},style:{width:"20%",float:"right"}},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f "),r.a.createElement("div",{className:t.table1},function(){if(null!=i.reasonsData)return r.a.createElement("div",null,r.a.createElement(B.a,{align:"center",color:"primary",gutterBottom:!0},"\u041f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),r.a.createElement(Ln.a,null,r.a.createElement(Pn.a,null,r.a.createElement(Fn.a,null,r.a.createElement(Bn.a,null,"Id"),r.a.createElement(Bn.a,{align:"center"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041f\u0440\u0438\u0447\u0438\u043d\u0430"))),r.a.createElement(Yn.a,null,i.reasonsData.data.reasons.map((function(e){return r.a.createElement(Fn.a,{key:e.id},r.a.createElement(Bn.a,null,e.id),r.a.createElement(Bn.a,{align:"center"},e.description_eng),r.a.createElement(Bn.a,{align:"center"},e.description_rus),r.a.createElement(Bn.a,{align:"center"},e.alias_eng),r.a.createElement(Bn.a,{align:"center"},e.alias_rus),r.a.createElement(Bn.a,{align:"center"},e.reason))})))),r.a.createElement("br",null),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{reasonState:!0}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0438\u0447\u0438\u043d\u0443"))}(),r.a.createElement(D.a,{open:i.reasonState,onClose:function(){l(Object(X.a)({},i,{reasonState:!1}))}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f")),r.a.createElement(C.a,null,function(){if(1==i.reasonState)return r.a.createElement(Vn,{addNewReason:function(e){return o(e)}})}()))),r.a.createElement("div",{className:t.table2},function(){if(null!=i.typesData)return r.a.createElement("div",null,r.a.createElement(B.a,{align:"center",color:"primary",gutterBottom:!0},"\u0422\u0438\u043f\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),r.a.createElement(Ln.a,null,r.a.createElement(Pn.a,null,r.a.createElement(Fn.a,null,r.a.createElement(Bn.a,null,"Id"),r.a.createElement(Bn.a,{align:"center"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u0422\u0438\u043f"),r.a.createElement(Bn.a,{align:"center"},"Leaflet style"))),r.a.createElement(Yn.a,null,i.typesData.data.types.map((function(e){return r.a.createElement(Fn.a,{key:e.id},r.a.createElement(Bn.a,null,e.id),r.a.createElement(Bn.a,{align:"center"},e.description_eng),r.a.createElement(Bn.a,{align:"center"},e.description_rus),r.a.createElement(Bn.a,{align:"center"},e.alias_eng),r.a.createElement(Bn.a,{align:"center"},e.alias_rus),r.a.createElement(Bn.a,{align:"center"},e.type),r.a.createElement(Bn.a,{align:"center"},e.leaflet_style))})))),r.a.createElement("br",null),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{typeState:!0}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f"))}(),r.a.createElement(D.a,{open:i.typeState,onClose:function(){l(Object(X.a)({},i,{typeState:!1}))}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0442\u0438\u043f\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f")),r.a.createElement(C.a,null,function(){if(1==i.typeState)return console.log("ok"),r.a.createElement(Gn,{addNewType:function(e){return c(e)}})}()))))}var Zn=Object(W.a)((function(e){return{box:{},margin:{margin:"0 0 0 0",fontSize:11},textfield:{width:"100%"},textfield2:{width:"100%",height:"5vh"}}}));function Un(e){var t,a,n=Zn(),i=r.a.useState({id:null,typeId:null,type:null,descEng:null,descRus:null,nameEng:null,nameRus:null,host:null,lat:null,lon:null,elevation:null,dangerValues:'[{"description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435", "value": "0"}]'}),l=Object(Q.a)(i,2),o=l[0],c=l[1],s=[{id:o.id,type_id:o.typeId,name_rus:o.nameRus,name_eng:o.nameEng,description_rus:o.descRus,description_eng:o.descEng,host:o.host,lat:o.lat,lon:o.lon,geom:(t=o.lat,a=o.lon,"POINT("+t+" "+a+")"),elevation:o.elevation,danger_values:o.dangerValues}];return r.a.createElement("div",{className:n.box},r.a.createElement(se.a,{className:n.textfield,value:o.id,id:"id",label:"ID",onChange:function(e){return function(e){c(Object(X.a)({},o,{id:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:n.textfield,value:o.nameRus,id:"nameRus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){c(Object(X.a)({},o,{nameRus:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:n.textfield,value:o.nameEng,id:"nameEng",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){c(Object(X.a)({},o,{nameEng:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:n.textfield,value:o.descRus,id:"descRus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){c(Object(X.a)({},o,{descRus:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:n.textfield,value:o.descEng,id:"descEng",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c",onChange:function(e){return function(e){c(Object(X.a)({},o,{descEng:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:n.textfield,value:o.dangerValues,id:"dangerValues",label:"\u041e\u043f\u0430\u0441\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438",onChange:function(e){return function(e){c(Object(X.a)({},o,{dangerValues:e.target.value}))}(e)}}),r.a.createElement(Nt.a,{className:n.textfield},r.a.createElement(La.a,null,"\u0422\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0438\u0438"),r.a.createElement(zt.a,{value:o.typeId,onChange:function(e){return function(e){c(Object(X.a)({},o,{typeId:e.target.value}))}(e)}},function(){for(var t=[],a=e.stationTypesList,n=0;n<a.length;n++)t.push(r.a.createElement(kt.a,{key:n,value:a[n].id},a[n].alias_rus));return t}())),r.a.createElement(se.a,{className:n.textfield,value:o.host,id:"host",label:"Host",onChange:function(e){return function(e){c(Object(X.a)({},o,{host:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:n.textfield,value:o.lat,type:"number",id:"lat",label:"\u0428\u0438\u0440\u043e\u0442\u0430",onChange:function(e){return function(e){c(Object(X.a)({},o,{lat:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:n.textfield,value:o.lon,type:"number",id:"lon",label:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430",onChange:function(e){return function(e){c(Object(X.a)({},o,{lon:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:n.textfield,value:o.elevation,type:"number",id:"elevation",label:"\u0412\u044b\u0441\u043e\u0442\u0430 \u043d\u0430\u0434 \u0443\u0440\u043e\u0432\u043d\u0435\u043c \u043c\u043e\u0440\u044f (\u043c)",onChange:function(e){return function(e){c(Object(X.a)({},o,{elevation:e.target.value}))}(e)}}),r.a.createElement("div",{style:{height:"5vh"}}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return e.addNewStation(s)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}var qn=Object(W.a)((function(e){return{root:{margin:"3vh 2%",padding:"1%",height:"90vh",maxHeight:"90vh",overflow:"auto",width:"94%"},table1:{width:"100%",overflow:"auto"}}}));function $n(e){var t=qn(),a=r.a.useState({stationData:null,stationTypesData:null,firstDataGet:!1,stationStateDialog:!1}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(t){if(null!=t[0].description_eng&&null!=t[0].description_rus&&null!=t[0].name_eng&&null!=t[0].name_rus&&null!=t[0].type_id&&null!=t[0].host&&null!=t[0].lat&&null!=t[0].lon&&null!=t[0].elevation&&'[{"description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435", "value": "0"}]'!=t[0].danger_values){var a=new FormData;a.append("stations",JSON.stringify(t)),function(e,t,a){return rt.apply(this,arguments)}(a,e.login,e.password).then((function(e){console.log(e),l(Object(X.a)({},i,{stationStateDialog:!1,firstDataGet:!1,stationData:null}))}))}};0==i.firstDataGet&&(null==i.stationData&&ke().then((function(e){return l(Object(X.a)({},i,{stationData:e}))})),null==i.stationTypesData&&Ae().then((function(e){return l(Object(X.a)({},i,{stationTypesData:e}))})),l(Object(X.a)({},i,{firstDataGet:!0})));return r.a.createElement(Tt.a,{className:t.root},r.a.createElement("div",null,function(){if(null!=i.stationData)return console.log(i.stationData),r.a.createElement("div",null,r.a.createElement(x.a,{variant:"outlined",size:"small",onClick:function(){return e.setNullChoise()},style:{width:"20%",float:"right"}},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f "),r.a.createElement(Ln.a,null,r.a.createElement(Pn.a,null,r.a.createElement(Fn.a,null,r.a.createElement(Bn.a,null,"Id"),r.a.createElement(Bn.a,{align:"center"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"),r.a.createElement(Bn.a,{align:"center"},"\u041e\u043f\u0430\u0441\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438"),r.a.createElement(Bn.a,null,"Host"),r.a.createElement(Bn.a,null,"\u0428\u0438\u0440\u043e\u0442\u0430"),r.a.createElement(Bn.a,null,"\u0414\u043e\u043b\u0433\u043e\u0442\u0430"),r.a.createElement(Bn.a,null,"\u0412\u044b\u0441\u043e\u0442\u0430 \u043d\u0430\u0434 \u0443\u0440\u043e\u0432\u043d\u0435\u043c \u043c\u043e\u0440\u044f(\u043c)"))),r.a.createElement(Yn.a,null,i.stationData.data.stations.map((function(e){return r.a.createElement(Fn.a,{key:e.id},r.a.createElement(Bn.a,null,e.id),r.a.createElement(Bn.a,{align:"center"},e.name_rus),r.a.createElement(Bn.a,{align:"center"},e.name_eng),r.a.createElement(Bn.a,{align:"center"},e.description_rus),r.a.createElement(Bn.a,{align:"center"},e.description_eng),r.a.createElement(Bn.a,{align:"center"},function(e){var t=[],a=JSON.parse(e);for(var n in a){return a[n].forEach((function(e){var a=e.description+": "+e.value+";\n ";t.push(a)})),t.join("")}}(e.danger_values)),r.a.createElement(Bn.a,{align:"center"},e.host),r.a.createElement(Bn.a,{align:"center"},e.lat),r.a.createElement(Bn.a,{align:"center"},e.lon),r.a.createElement(Bn.a,{align:"center"},e.elevation))})))),r.a.createElement("br",null),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Qa.a,null),onClick:function(){l(Object(X.a)({},i,{stationStateDialog:!0}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u043d\u0446\u0438\u044e"))}(),r.a.createElement(D.a,{open:i.stationStateDialog,onClose:function(){l(Object(X.a)({},i,{stationStateDialog:!1}))}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0441\u0442\u0430\u043d\u0446\u0438\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f")),r.a.createElement(C.a,null,function(){if(1==i.stationStateDialog)return r.a.createElement(Un,{addNewStation:function(e){return o(e)},stationTypesList:i.stationTypesData.data.types})}()))))}var Kn=1,Xn=9,Qn=a(64);Qn().format();var er=Object(W.a)((function(e){return{root:{margin:"0 2%",padding:"1%",height:"30vh",maxHeight:"30vh",overflow:"auto",width:"100%"},textfield:{width:"100%"}}}));function tr(e){var t=er(),a=r.a.useState({id:"",observation_date:null,hydro_gauge_id:"",water_discharge:"",water_level:"",firstDataGet:!1,stationsList:null,serverPushResponse:null,setOpenDialog:!1}),n=Object(Q.a)(a,2),i=n[0],l=n[1];0==i.firstDataGet&&(null==i.stationsList&&ke(Xn).then((function(e){return l(Object(X.a)({},i,{stationsList:e}))})),l(Object(X.a)({},i,{firstDataGet:!0})));var o=function(){l(Object(X.a)({},i,{setOpenDialog:!1}))},c={observation_date:i.observation_date,hydro_gauge_id:i.hydro_gauge_id,water_discharge:i.water_discharge,water_level:i.water_level};return r.a.createElement("div",{className:t.root},r.a.createElement("div",null,r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield},r.a.createElement(en.a,{autoOk:!0,ampm:!1,disableFuture:!0,value:i.observation_date,onChange:function(e){l(Object(X.a)({},i,{observation_date:e}))},label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f",format:"yyyy/MM/dd HH:mm"}))),function(){if(null!=i.stationsList)return r.a.createElement(ce.a,{noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.stationsList.data.stations,getOptionLabel:function(e){return e.id.toString()},onChange:function(e,t){return function(e,t){null!==t&&l(Object(X.a)({},i,{hydro_gauge_id:t.id}))}(0,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"Id \u0433\u0438\u0434\u0440\u043e\u043f\u043e\u0441\u0442\u0430",variant:"standard",fullWidth:!0}))}})}(),r.a.createElement(se.a,{className:t.textfield,value:i.water_discharge,id:"water_discharge",label:"\u0421\u0442\u043e\u043a \u0432\u043e\u0434\u044b",type:"number",onChange:function(e){return function(e){l(Object(X.a)({},i,{water_discharge:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.water_level,id:"water_level",label:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u043e\u0434\u044b",type:"number",onChange:function(e){return function(e){l(Object(X.a)({},i,{water_level:e.target.value}))}(e)}}),r.a.createElement("div",{style:{height:"4vh"}}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return function(t){if(null!=t.observation_date&&""!=t.hydro_gauge_id&&""!=t.water_discharge&&""!=t.water_level){var a=new FormData;a.append("observation_date",Qn(t.observation_date).format("DDMMYYYYTHHmmss")),a.append("hydro_gauge_id",t.hydro_gauge_id),a.append("water_discharge",t.water_discharge),a.append("water_level",t.water_level),it(a,e.login,e.password).then((function(e){console.log(e),l(Object(X.a)({},i,{serverPushResponse:e,setOpenDialog:!0}))}))}}(c)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(D.a,{open:i.setOpenDialog,onClose:function(){return o()}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},function(){if(null!==i.serverPushResponse){if("ok"==i.serverPushResponse.status)return"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b";if("ok"!==i.serverPushResponse.status)return"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 "+i.serverPushResponse.comment}}())),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){return o()},color:"primary",autoFocus:!0},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))))}var ar=a(64);ar().format();var nr=Object(W.a)((function(e){return{root:{margin:"0 2%",padding:"1%",height:"30vh",maxHeight:"30vh",overflow:"auto",width:"100%"},textfield:{width:"100%"}}}));function rr(e){var t=nr(),a=r.a.useState({observation_date:null,meteo_station_id:"",air_temperature:"",precipitations:"",firstDataGet:!1,stationsList:null,serverPushResponse:null,setOpenDialog:!1}),n=Object(Q.a)(a,2),i=n[0],l=n[1];0==i.firstDataGet&&(null==i.stationsList&&ke(Kn).then((function(e){return l(Object(X.a)({},i,{stationsList:e}))})),l(Object(X.a)({},i,{firstDataGet:!0})));var o=function(){l(Object(X.a)({},i,{setOpenDialog:!1}))},c=function(e,t){null!==t&&l(Object(X.a)({},i,{meteo_station_id:t.id}))},s={observation_date:i.observation_date,meteo_station_id:i.meteo_station_id,air_temperature:i.air_temperature,precipitations:i.precipitations};return r.a.createElement("div",{className:t.root},r.a.createElement(Aa.a,{utils:Ra.a},r.a.createElement("div",{className:t.textfield},r.a.createElement(en.a,{autoOk:!0,ampm:!1,disableFuture:!0,value:i.observation_date,onChange:function(e){l(Object(X.a)({},i,{observation_date:e}))},label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f",format:"yyyy/MM/dd HH:mm"}))),function(){if(null!=i.stationsList)return r.a.createElement(ce.a,{noOptionsText:"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",options:i.stationsList.data.stations,getOptionLabel:function(e){return e.id.toString()},onChange:function(e,t){return c(e,t)},renderInput:function(e){return r.a.createElement(se.a,Object.assign({},e,{label:"Id \u0441\u0442\u0430\u043d\u0446\u0438\u0438",variant:"standard",fullWidth:!0}))}})}(),r.a.createElement(se.a,{className:t.textfield,value:i.air_temperature,id:"air_temperature",label:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430",type:"number",onChange:function(e){return function(e){l(Object(X.a)({},i,{air_temperature:e.target.value}))}(e)}}),r.a.createElement(se.a,{className:t.textfield,value:i.precipitations,id:"precipitations",label:"\u041e\u0441\u0430\u0434\u043a\u0438",type:"number",onChange:function(e){return function(e){l(Object(X.a)({},i,{precipitations:e.target.value}))}(e)}}),r.a.createElement("div",{style:{height:"4vh"}}),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{float:"right"},onClick:function(){return function(t){if(null!=t.observation_date&&""!=t.meteo_station_id&&""!=t.air_temperature&&""!=t.precipitations){var a=new FormData;a.append("observation_date",ar(t.observation_date).format("DDMMYYYYTHHmmss")),a.append("meteo_station_id",t.meteo_station_id),a.append("air_temperature",t.air_temperature),a.append("precipitations",t.precipitations),ot(a,e.login,e.password).then((function(e){console.log(e),l(Object(X.a)({},i,{serverPushResponse:e,setOpenDialog:!0}))}))}}(s)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(D.a,{open:i.setOpenDialog,onClose:function(){return o()}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},function(){if(null!==i.serverPushResponse){if("ok"==i.serverPushResponse.status)return"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b";if("ok"!==i.serverPushResponse.status)return"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 "+i.serverPushResponse.comment}}())),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){return o()},color:"primary",autoFocus:!0},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}var ir=Object(W.a)((function(e){return{root:{margin:"3vh 2%",padding:"1%",height:"90vh",maxHeight:"90vh",overflow:"auto",width:"94%"},textfield:{width:"47%",margin:"3vh 1% 0",height:"80vh",float:"left"},textfield2:{width:"47%",margin:"3vh 1% 0",height:"80vh",float:"right"},helpingText:{margin:"1vh 1%"}}}));function lr(e){var t=ir(),a=r.a.useState({openDialog:!1,openDialogFileToServer:!1,openMeteoDialog:!1,CSVFile:null,CSVFileName:" ",MeteoCSVFile:null,MeteoCSVFileName:" ",responseLog:null}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(e){l(Object(X.a)({},i,{responseLog:e,openDialogFileToServer:!0}))},c=function(){l(Object(X.a)({},i,{openDialogFileToServer:!1,responseLog:null,CSVFile:null,CSVFileName:" ",MeteoCSVFile:null,MeteoCSVFileName:" "}))};return r.a.createElement(Tt.a,{className:t.root},r.a.createElement(x.a,{variant:"outlined",size:"small",onClick:function(){return e.setNullChoise()},style:{width:"20%",float:"right"}},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f "),r.a.createElement("div",{style:{margin:"4vh 0 0 0"}},r.a.createElement(J.a,{className:t.textfield},r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(B.a,{align:"center",color:"primary",variant:"h5",gutterBottom:!0},"\u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u0433\u0438\u0434\u0440\u043e\u043f\u043e\u0441\u0442\u043e\u0432"),r.a.createElement(B.a,{align:"center",color:"inherit",gutterBottom:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e")),r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(x.a,{variant:"outlined",component:"label",size:"medium",color:"primary",onClick:function(){l(Object(X.a)({},i,{openDialog:!0}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(D.a,{open:i.openDialog,onClose:function(){l(Object(X.a)({},i,{openDialog:!1}))}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0438 \u0433\u0438\u0434\u0440\u043e\u043f\u043e\u0441\u0442\u0430")),r.a.createElement(C.a,null,r.a.createElement(tr,{login:e.login,password:e.password}))))),r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(B.a,{align:"center",color:"inherit",gutterBottom:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c .csv")),r.a.createElement(Z.a,null,r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"35%"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){var t;void 0!==(t=e.target.files[0])&&void 0!==i.CSVFileName&&l(Object(X.a)({},i,{CSVFileName:t.name,CSVFile:t}))}})),r.a.createElement(se.a,{style:{width:"60%",margin:"0 0 0 2%"},value:i.CSVFileName,label:"\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430"})),function(){if(" "!==i.CSVFileName){var t=i.CSVFile,a=new FormData;return a.append("hydro_observations",t),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{margin:"2vh 2%"},onClick:function(){return function(t){it(t,e.login,e.password).then((function(e){console.log(e),o(e)}))}(a)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")}}(),r.a.createElement(U.a,null,r.a.createElement(B.a,{className:t.helpingText,align:"justify",color:"secondary",gutterBottom:!0},"\u0414\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443:"),r.a.createElement(B.a,{color:"secondary"},"1) \u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u0438 - \u0437\u0430\u043f\u044f\u0442\u044b\u0435 (,);"),r.a.createElement(B.a,{color:"secondary"},"2) \u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 (water_discharge, water_level, hydro_gauge_id, observation_date) \u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435;"),r.a.createElement(B.a,{color:"secondary"},"3) \u0424\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u0442\u044b/\u0432\u0440\u0435\u043c\u0435\u043d\u0438: %d%m%YT%H%M%S (\u041f\u0440\u0438\u043c\u0435\u0440:12052012T000000).")))),r.a.createElement(J.a,{className:t.textfield2},r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(B.a,{align:"center",color:"primary",variant:"h5",gutterBottom:!0},"\u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u0439"),r.a.createElement(B.a,{align:"center",color:"inherit",gutterBottom:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e")),r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(x.a,{variant:"outlined",component:"label",size:"medium",color:"primary",onClick:function(){l(Object(X.a)({},i,{openMeteoDialog:!0}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(D.a,{open:i.openMeteoDialog,onClose:function(){l(Object(X.a)({},i,{openMeteoDialog:!1}))}},r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0438 \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u0438")),r.a.createElement(C.a,null,r.a.createElement(rr,{login:e.login,password:e.password}))))),r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(B.a,{align:"center",color:"inherit",gutterBottom:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c .csv")),r.a.createElement(Z.a,null,r.a.createElement(x.a,{variant:"outlined",component:"label",size:"small",style:{width:"35%"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){var t;void 0!==(t=e.target.files[0])&&void 0!==i.MeteoCSVFileName&&l(Object(X.a)({},i,{MeteoCSVFileName:t.name,MeteoCSVFile:t}))}})),r.a.createElement(se.a,{style:{width:"60%",margin:"0 0 0 2%"},value:i.MeteoCSVFileName,label:"\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430"})),function(){if(" "!==i.MeteoCSVFileName){var t=i.MeteoCSVFile,a=new FormData;return a.append("meteo_observations",t),r.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Wa.a,null),style:{margin:"2vh 2%"},onClick:function(){l(Object(X.a)({},i,{openDialogFileToServer:!0})),function(t){ot(t,e.login,e.password).then((function(e){console.log(e),o(e)}))}(a)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")}}(),r.a.createElement(U.a,null,r.a.createElement(B.a,{className:t.helpingText,align:"justify",color:"secondary",gutterBottom:!0},"\u0414\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443:"),r.a.createElement(B.a,{color:"secondary"},"1) \u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u0438 - \u0437\u0430\u043f\u044f\u0442\u044b\u0435 (,);"),r.a.createElement(B.a,{color:"secondary"},"2) \u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 (air_temperature, precipitations, meteo_station_id, observation_date) \u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435;"),r.a.createElement(B.a,{color:"secondary"},"3) \u0424\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u0442\u044b/\u0432\u0440\u0435\u043c\u0435\u043d\u0438: %d%m%YT%H%M%S (\u041f\u0440\u0438\u043c\u0435\u0440:12052012T000000).")),r.a.createElement(D.a,{open:i.openDialogFileToServer},function(){if(null!==i.responseLog){if("ok"==i.responseLog.status)return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b")),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){return c()}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")));if("ok"!==i.responseLog.status)return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(rn.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b! \u041e\u0448\u0438\u0431\u043a\u0430: ",i.responseLog.comment)),r.a.createElement(C.a,null,r.a.createElement(x.a,{onClick:function(){return c()}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))}if(null==i.responseLog)return r.a.createElement(J.a,null,r.a.createElement(U.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{color:"inherit",align:"center",gutterBottom:!0},"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430...")))}())))))}var or=Object(W.a)((function(e){return{textfield:{width:"80%",margin:"0 10%"},card:{width:"40%",margin:"40vh 30%"}}}));function cr(e){var t=or(),a=r.a.useState({choise:null}),n=Object(Q.a)(a,2),i=n[0],l=n[1],o=function(){l(Object(X.a)({},i,{choise:null}))};return r.a.createElement("div",null,null==i.choise?r.a.createElement(J.a,{className:t.card},r.a.createElement(U.a,null,r.a.createElement(B.a,{color:"inherit",align:"center",gutterBottom:!0},r.a.createElement("br",null),"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443")),r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(Hn,{login:e.login,password:e.password,placeId:i.placeId,setNewEventChoise:function(){l(Object(X.a)({},i,{choise:"newEvent"}))},setOldEventChoise:function(){l(Object(X.a)({},i,{choise:"oldEvent"}))},setPlaceForEvent:function(e,t){return function(e,t){l(Object(X.a)({},i,{placeName:e,placeId:t,choise:"newEvent"}))}(e,t)},setPlaceForOldEvent:function(e,t){return function(e,t){console.log(t),l(Object(X.a)({},i,{placeName:e,placeId:t}))}(e,t)},setIdForOldEvent:function(e,t){return function(e,t){l(Object(X.a)({},i,{eventName:e,eventId:t,choise:"oldEvent"}))}(e,t)}}),r.a.createElement(x.a,{size:"small",color:"secondary",variant:"outlined",onClick:function(){l(Object(X.a)({},i,{choise:"eventTypeReason"}))}},"\u0422\u0438\u043f\u044b/\u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),r.a.createElement(x.a,{size:"small",color:"secondary",variant:"outlined",onClick:function(){l(Object(X.a)({},i,{choise:"station"}))}},"\u0421\u0442\u0430\u043d\u0446\u0438\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f"),r.a.createElement(x.a,{size:"small",color:"secondary",variant:"outlined",onClick:function(){l(Object(X.a)({},i,{choise:"observation"}))}},"\u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f")),r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(x.a,{size:"small",color:"primary",variant:"outlined",href:"https://github.com/eduard-kazakov/RDE"},"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"))):"newEvent"==i.choise?r.a.createElement(Dn,{login:e.login,password:e.password,placeName:i.placeName,placeId:i.placeId,setNullChoise:function(){return o()},mode:"new"}):"oldEvent"==i.choise?r.a.createElement(Dn,{login:e.login,password:e.password,placeName:i.placeName,placeId:i.placeId,eventName:i.eventName,eventId:i.eventId,setNullChoise:function(){return o()},mode:"old"}):"eventTypeReason"==i.choise?r.a.createElement(Jn,{login:e.login,password:e.password,setNullChoise:function(){return o()}}):"station"==i.choise?r.a.createElement($n,{login:e.login,password:e.password,setNullChoise:function(){return o()}}):"observation"==i.choise?r.a.createElement(lr,{login:e.login,password:e.password,setNullChoise:function(){return o()}}):void 0)}var sr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).getAccessData=function(e,t){a.setState((function(a){return{login:e,password:t}})),function(e,t){return We.apply(this,arguments)}(e,t).then((function(e){return a.setState((function(t){return{userData:e,accsessDataGetState:e.status}}))}))},a.returnAuthorization=function(e,t){return"ok"!==e&&null!==t?r.a.createElement(Fa,{getAccessData:function(e,t){return a.getAccessData(e,t)},accessDenied:!0}):"ok"!==e?r.a.createElement(Fa,{getAccessData:function(e,t){return a.getAccessData(e,t)},accessDenied:!1}):void 0},a.returnEditMode=function(e){if("ok"==e)return r.a.createElement(cr,{login:a.state.login,password:a.state.password})},a.state={accsessDataGetState:!1,userData:null,login:null,password:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.returnAuthorization(this.state.accsessDataGetState,this.state.userData),this.returnEditMode(this.state.accsessDataGetState))}}]),t}(n.Component),ur=a(406),mr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).getMuiTheme=function(){return Object(z.a)({overrides:{MUIDataTableHeadCell:{root:{color:"#a6a6a6"}}}})},a.state={propsData:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.stations;return r.a.createElement(M.a,{theme:this.getMuiTheme()},r.a.createElement(N.a,{title:"\u0421\u0442\u0430\u043d\u0446\u0438\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f",data:e,columns:[{name:"id",label:"ID",options:{filter:!0}},{name:"name_rus",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",options:{filter:!1}},{name:"description_rus",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",options:{filter:!1}},{name:"type",label:"\u0422\u0438\u043f",options:{filter:!0}},{name:"elevation",label:"\u0412\u044b\u0441\u043e\u0442\u0430 (\u043c)",options:{filter:!1}},{name:"host",label:"\u041f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u044c",options:{filter:!0}},{name:"lat",label:"\u0428\u0438\u0440\u043e\u0442\u0430",options:{filter:!1}},{name:"lon",label:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430",options:{filter:!1}}],options:{filterType:"dropdown",download:!0,print:!1,search:!0,responsive:"stacked",selectableRowsHeader:!1,selectableRows:"none",pagination:!0,rowsPerPage:5,rowsPerPageOptions:[],textLabels:{body:{noMatch:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}},fixedHeader:!0}}))}}]),t}(n.Component),dr=a(64);dr().format();var pr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).getMuiTheme=function(){return Object(z.a)({overrides:{MUIDataTableHeadCell:{root:{color:"#a6a6a6"}}}})},a.getData=function(e){return e.map((function(e){return e.observation_date=dr(e.observation_date,"DDMMYYYYTHHmmss").format("YYYY/MM/DD HH:mm"),e}))},a.state={propsData:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.getData(this.props.observations);return r.a.createElement(M.a,{theme:this.getMuiTheme()},r.a.createElement(N.a,{title:"\u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u0433\u0438\u0434\u0440\u043e\u043f\u043e\u0441\u0442\u043e\u0432",data:e,columns:[{name:"hydro_gauge_id",label:"ID \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u0438",options:{filter:!0}},{name:"observation_date",label:"\u0414\u0430\u0442\u0430",options:{filter:!1}},{name:"water_discharge",label:"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u043e\u0434\u044b (\u043c)",options:{filter:!1}},{name:"water_level",label:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u043e\u0434\u044b (\u043c)",options:{filter:!1}}],options:{filterType:"dropdown",download:!0,print:!1,search:!0,responsive:"stacked",selectableRowsHeader:!1,selectableRows:"none",pagination:!0,rowsPerPage:5,rowsPerPageOptions:[],textLabels:{body:{noMatch:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}},fixedHeader:!0}}))}}]),t}(n.Component),fr=a(64);fr().format();var gr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).getMuiTheme=function(){return Object(z.a)({overrides:{MUIDataTableHeadCell:{root:{color:"#a6a6a6"}}}})},a.getData=function(e){return console.log(e),e.map((function(e){return e.observation_date=fr(e.observation_date,"DDMMYYYYTHHmmss").format("YYYY/MM/DD HH:mm"),e}))},a.state={propsData:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.getData(this.props.observations);return r.a.createElement(M.a,{theme:this.getMuiTheme()},r.a.createElement(N.a,{title:"\u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u0439",data:e,columns:[{name:"meteo_station_id",label:"ID \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u0438",options:{filter:!0}},{name:"observation_date",label:"\u0414\u0430\u0442\u0430",options:{filter:!1}},{name:"air_temperature",label:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430, C",options:{filter:!1}},{name:"precipitations",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0441\u0430\u0434\u043a\u043e\u0432, \u043c\u043c",options:{filter:!1}}],options:{filterType:"dropdown",download:!0,print:!1,search:!0,responsive:"stacked",selectableRowsHeader:!1,selectableRows:"none",pagination:!0,rowsPerPage:5,rowsPerPageOptions:[],textLabels:{body:{noMatch:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}},fixedHeader:!0}}))}}]),t}(n.Component);function hr(e){var t=r.a.useState({firstDataGetState:!1}),a=Object(Q.a)(t,2),n=a[0],i=a[1],l=function(){if(0!==n.eventData.hydro_observations.length)return r.a.createElement("div",{style:{margin:"1vh 4%",width:"92%"}},r.a.createElement(pr,{observations:n.eventData.hydro_observations}))},o=function(){if(0!==n.eventData.meteo_observations.length)return r.a.createElement("div",{style:{margin:"1vh 4%",width:"92%"}},r.a.createElement(gr,{observations:n.eventData.meteo_observations}))},c=function(){if(0!==n.eventData.multimedia_records.length){var e=n.eventData.multimedia_records.map((function(e){return{name_rus:e.name_rus,link:e.file}})).map((function(e){var t="http://"+e.link;return r.a.createElement("div",{style:{margin:"1vh 0 0 0"}},r.a.createElement(B.a,null,r.a.createElement("b",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:")),r.a.createElement(B.a,null,e.name_rus),r.a.createElement(ur.a,{href:t,target:"_blank",variant:"body2"},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"))}));return r.a.createElement("div",{style:{margin:"1vh 5%",width:"90%",padding:"1%"}},r.a.createElement(B.a,{align:"center"},"\u041c\u0443\u043b\u044c\u0442\u0438\u043c\u0435\u0434\u0438\u0439\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b"),e)}},s=function(){if(0!==n.eventData.misc_vector_data.length){var e=n.eventData.misc_vector_data.map((function(e){return{name_rus:e.name_rus,link:e.file}})).map((function(e){var t="http://"+e.link;return r.a.createElement("div",{style:{margin:"1vh 0 0 0"}},r.a.createElement(B.a,null,r.a.createElement("b",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:")),r.a.createElement(B.a,null,e.name_rus),r.a.createElement(ur.a,{href:t,target:"_blank",variant:"body2"},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"))}));return r.a.createElement("div",{style:{margin:"1vh 5%",width:"90%",padding:"1%"}},r.a.createElement(B.a,{align:"center"},"\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),e)}},u=function(){if(0!==n.eventData.misc_raster_data.length){console.log(n.eventData);var e=n.eventData.misc_raster_data.map((function(e){return{name_rus:e.name_rus,link:e.file}})).map((function(e){var t="http://"+e.link;return r.a.createElement("div",{style:{margin:"1vh 0 0 0"}},r.a.createElement(B.a,null,r.a.createElement("b",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:")),r.a.createElement(B.a,null,e.name_rus),r.a.createElement(ur.a,{href:t,target:"_blank",variant:"body2"},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"))}));return r.a.createElement("div",{style:{margin:"1vh 5%",width:"90%",padding:"1%"}},r.a.createElement(B.a,{align:"center"},"\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),e)}},m=function(){if(0!==n.eventData.remote_sensing_data.length){var e=n.eventData.remote_sensing_data.map((function(e){return{description_rus:e.description_rus,link:e.file}})).map((function(e){var t="http://"+e.link;return r.a.createElement("div",{style:{margin:"1vh 0 0 0"}},r.a.createElement(B.a,null,r.a.createElement("b",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:")),r.a.createElement(B.a,null,e.description_rus),r.a.createElement(ur.a,{href:t,target:"_blank",variant:"body2"},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"))}));return r.a.createElement("div",{style:{margin:"1vh 5%",width:"90%",padding:"1%"}},r.a.createElement(B.a,{align:"center"},"\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u043e\u043d\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),e)}};0==n.firstDataGetState&&ve(window.location.href.split("#")[1]).then((function(e){return i(Object(X.a)({},n,{eventData:e.data.events[0],firstDataGetState:!0}))}));return document.title="\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435|\u041e\u043f\u0430\u0441\u043d\u044b\u0435 \u0433\u0438\u0434\u0440\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u044f\u0432\u043b\u0435\u043d\u0438\u044f",r.a.createElement("div",null,r.a.createElement(Tt.a,{elevation:5,style:{margin:"3vh 15vw",height:"94vh",width:"70vw",overflow:"auto",maxHeight:"94vh"}},r.a.createElement(B.a,{variant:"h5",align:"center"},"\u0424\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f: ",(console.log(n.eventData),void 0!==n.eventData?n.eventData.name_rus:" ")),void 0==n.eventData?r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30vh 0 0"}},r.a.createElement(P.a,{style:{color:F.a[500]}})),r.a.createElement(B.a,{color:"inherit",align:"center",gutterBottom:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445...")):r.a.createElement("div",{style:{width:"100%"}},c(),u(),s(),m(),r.a.createElement("div",{style:{margin:"1vh 4%",width:"92%"}},r.a.createElement(mr,{stations:n.eventData.observation_stations})),l(),o())))}var vr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).setEventData=function(e){a.setState((function(t){return{eventId:e}}))},a.state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;this.state.eventId;return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(){return r.a.createElement(mt,{setEventData:function(t){return e.setEventData(t)}})}}),r.a.createElement(d.a,{path:"/eventid/",component:za}),r.a.createElement(d.a,{path:"/admin/",component:sr}),r.a.createElement(d.a,{path:"/download/",component:hr}))))}}]),t}(n.Component);a(362);Object(i.render)(r.a.createElement(vr,null),document.getElementById("root"))}},[[328,1,2]]]);
//# sourceMappingURL=main.104c545f.chunk.js.map